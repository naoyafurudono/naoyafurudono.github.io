<!doctype html><html lang=ja-jp><head><meta name=generator content="Hugo 0.111.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no"><title>Furudono's blog</title><link rel=apple-touch-icon sizes=57x57 href=/images/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/images/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/images/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/images/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/images/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/images/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/images/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/images/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/images/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/images/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/manifest.json><meta name=msapplication-TileColor content="#ffffff"><meta name=msapplication-TileImage content="/images/ms-icon-144x144.png"><meta name=theme-color content="#ffffff"><meta property="og:title" content="Furudono's blog"><meta property="og:description" content="公開メモです"><meta property="og:type" content="website"><meta property="og:url" content="https://blog.nfurudono.com/"><meta property="og:image" content="https://blog.nfurudono.com/images/thumbnail.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.nfurudono.com/images/thumbnail.png"><meta name=twitter:title content="Furudono's blog"><meta name=twitter:description content="公開メモです"><meta name=description content="公開メモです"><meta property="og:description" content="公開メモです"><meta name=twitter:description content="公開メモです"><link rel=stylesheet href=https://blog.nfurudono.com/css/main.min.27b5191adcbb5ffe10ffc365d42796a7d3b205eca24690bb6a1c8f78364c82b6.css><link rel=alternate type=application/rss+xml href=https://blog.nfurudono.com/index.xml title="Furudono's blog"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ES42FPF4D5"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ES42FPF4D5",{anonymize_ip:!1})}</script></head><body><nav><header><div class=site-title><a href=/>Furudono's blog</a></div></header><div class=nav-menu><a class="color-link nav-link" href=/profile/>Profile</a>
<a class="color-link nav-link" href=/tags/>Tags</a>
<a class="color-link nav-link" href=https://blog.nfurudono.com/index.xml target=_blank rel=noopener type=application/rss+xml>RSS</a></div><footer class=footer><div class=social-icons><a class=social-icon href=https://twitter.com/furudono2 target=_blank rel=noopener title=Twitter><svg width="28" height="28" viewBox="0 0 28 28" fill="#ababab" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><path d="M8.991284 24.971612c10.189152.0 15.761088-8.441388 15.761088-15.761088C24.752372 8.970656 24.747512 8.731868 24.736496 8.494376 25.818008 7.712564 26.758256 6.737 27.5 5.62622c-.992628.440856-2.060748.738072-3.181248.871992 1.14372-.685584 2.02176-1.770768 2.435832-3.064176-1.070496.6345-2.25558 1.095984-3.517344 1.344492-1.010772-1.076652-2.450412-1.75014-4.043412-1.75014-3.059424.0-5.540292 2.480868-5.540292 5.539104.0.434808.0487079999999995.857412.14364 1.26306C9.19346 9.599108 5.11106 7.39472 2.3792 4.04294c-.476172.818424-.750168 1.769688-.750168 2.784132.0 1.921968.97794 3.61854 2.464992 4.61106C3.185528 11.41016 2.331788 11.160464 1.585184 10.745096 1.583888 10.768208 1.583888 10.791428 1.583888 10.815728c0 2.683152 1.909764 4.922856 4.4442 5.43078C5.562932 16.373084 5.07326 16.44134 4.56782 16.44134 4.210988 16.44134 3.863876 16.406024 3.526484 16.34144c.70524 2.200824 2.750112 3.802356 5.174928 3.8475-1.896264 1.485756-4.284576 2.37114-6.879924 2.37114C1.374476 22.56008.93362 22.534592.5 22.4834c2.451708 1.571076 5.362524 2.488212 8.491284 2.488212"/></svg></a><a class=social-icon href=https://www.linkedin.com/in/naoya-furudono target=_blank rel=noopener title=LinkedIn><svg width="28" height="28" viewBox="0 0 28 28" fill="#ababab" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><path d="M2 3.654102c0-.95502059.79442509-1.73012354 1.77383592-1.73012354H24.2261641C25.2058917 1.92397846 26 2.69908141 26 3.654102V24.3462148C26 25.3015521 25.2058917 26.0760215 24.2261641 26.0760215H3.77383592C2.79442509 26.0760215 2 25.3015521 2 24.3465315V3.65378524 3.654102zM9.27526132 22.1415901V11.2356668H5.65030092V22.1415901H9.27557808 9.27526132zM7.46341463 9.74691162c1.2638581.0 2.05068103-.83750395 2.05068103-1.88406715C9.49033893 6.79252455 8.72727273 5.97846056 7.48748812 5.97846056c-1.24073487.0-2.05099778.81406399-2.05099778 1.88438391.0 1.0465632.78650618 1.88406715 2.00316756 1.88406715h.02343998H7.46341463zM11.2815965 22.1415901h3.6246436v-6.089642C14.9062401 15.7263225 14.9299968 15.4000634 15.0256573 15.1675641c.261957499999999-.6515679.8584099-1.3259423 1.8599936-1.3259423 1.3113716.0 1.836237 1 1.836237 2.4662654v5.8337029h3.6246436V15.8885017c0-3.349699-1.7880899-4.9084574-4.172949-4.9084574-1.9553373.0-2.814064 1.0928097-3.2910991 1.8371872H14.9065569v-1.581248H11.2819132C11.3291099 12.2591067 11.2815965 22.1419069 11.2815965 22.1419069V22.1415901z"/></svg></a><a class=social-icon href=https://github.com/naoyafurudono target=_blank rel=noopener title=GitHub><svg width="28" height="28" viewBox="0 0 28 28" fill="#ababab" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><path d="M13.9988029 1.32087331C6.82105037 1.32087331 1 7.14112562 1 14.3212723c0 5.7436386 3.72454649 10.6157955 8.89038951 12.3348169C10.5408085 26.7757983 10.7778323 26.374374 10.7778323 26.0296121 10.7778323 25.7215609 10.7666595 24.9035493 10.760275 23.8189856 7.14426471 24.6042767 6.38131925 22.0760223 6.38131925 22.0760223c-.59136253-1.5019491-1.44369072-1.9017772-1.44369072-1.9017772C3.75729765 19.3682044 5.02701126 19.3841656 5.02701126 19.3841656 6.33183953 19.4759425 7.01817121 20.7241085 7.01817121 20.7241085c1.15958133 1.9863716 3.04300319 1.4125664 3.78360289 1.0797753.1181129-.8395592.4540962-1.4125663.8251942-1.7373768C8.74038491 19.7385043 5.70536235 18.6228163 5.70536235 13.6413251c0-1.4189508.50676816-2.5801283 1.33834679-3.4883207C6.90963504 9.82420367 6.46351945 8.50181809 7.17139875 6.71256734c0 0 1.09094816-.34955032 3.57451115 1.33276037C11.78259 7.75642995 12.8950858 7.61277914 14.000399 7.60719272 15.1049142 7.61277914 16.2166119 7.75642995 17.2548881 8.04532771c2.4819669-1.68231069 3.571319-1.33276037 3.571319-1.33276037C21.5356825 8.50181809 21.0895669 9.82420367 20.9562909 10.1530044 21.7894656 11.0611968 22.2922435 12.2223743 22.2922435 13.6413251c0 4.9942601-3.039811 6.0931889-5.935173 6.4148071.4660671.401424200000001.8818564 1.194696.8818564 2.4077473C17.2389269 24.2012564 17.2229657 25.603448 17.2229657 26.0296121 17.2229657 26.3775663 17.4575954 26.7821827 18.116793 26.6552912 23.2786458 24.9322794 27 20.0633148 27 14.3212723 27 7.14112562 21.1789496 1.32087331 13.9988029 1.32087331"/></svg></a></div><p><a href=https://github.com/naoyafurudono/naoyafurudono.github.io target=_blank rel=noopener>source of this site</a></p><p><a href=https://gohugo.io target=_blank rel=noopener>Built with Hugo</a></p><p>©2023 Naoya Furudono</p><script src=https://blog.nfurudono.com/js/main.min.a7205ef73b078c8daed6fe1b0826e8ba229ffabbb69d299d9446cf41f2c7d8aa.js integrity="sha256-pyBe9zsHjI2u1v4bCCbouiKf+ru2nSmdlEbPQfLH2Ko=" crossorigin=anonymous></script></footer></nav><div id=content class=content-container><div class=article-content><div class=description><p>公開メモです</p></div><article><h1><a href=https://blog.nfurudono.com/daily/2023-04-16/>2023-04-16</a></h1><div><p><p>午前中はChatGPTとかであそんでいた。
ブログを書いていたおかげで、AIに食わせる自分の書いた文書に困らないのが嬉しい。</p><p>文書から自分の人柄を表現してもらって、それをもとにSNSで使えるアイコンを生成しようとしたのだけどうまくいかない。
人柄の表現はそれっぽいのができるのだけど、表現が抽象的になってしまうので、
そのままアイコン画像を生成につかうと小学生のときによんだ漫画にでてきそうな怪しくて怖い宗教っぽい画像がでてきてしまう。</p><p>インターネット上でのキャラクタに合わせたアイコンを提案してもらえたら楽しくないだろうか？</p><p>ちなみに生成できた画像はこんな感じ。
改善のしようはいくらでもありそう。</p><ul><li><a href="https://oaidalleapiprodscus.blob.core.windows.net/private/org-xQP57b3U1YCgKl3FkhN2XI41/user-mXCl5fkO3Gm1oJYHtAnd1z1w/img-am8DtfXkLwkb82PJLtboEYz4.png?st=2023-04-16T01%3A57%3A47Z&amp;se=2023-04-16T03%3A57%3A47Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-04-16T00%3A43%3A02Z&amp;ske=2023-04-17T00%3A43%3A02Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=k1Euf2aYTGl6%2BZbspqrNm19QbjWJOyBDPs7oIIktD/M%3D">なのはな</a></li><li><a href="https://oaidalleapiprodscus.blob.core.windows.net/private/org-xQP57b3U1YCgKl3FkhN2XI41/user-mXCl5fkO3Gm1oJYHtAnd1z1w/img-mkZrhNkERo7FVfLk1ZUywR4l.png?st=2023-04-16T01%3A57%3A47Z&amp;se=2023-04-16T03%3A57%3A47Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-04-16T00%3A43%3A02Z&amp;ske=2023-04-17T00%3A43%3A02Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=59/1pmbAT2IXIngoC8YCR6zVilcukdaR6HX1sk/7FMU%3D">怖い1</a></li><li><a href="https://oaidalleapiprodscus.blob.core.windows.net/private/org-xQP57b3U1YCgKl3FkhN2XI41/user-mXCl5fkO3Gm1oJYHtAnd1z1w/img-7RPKZb7ryg1362RTOtBoVHne.png?st=2023-04-16T01%3A57%3A47Z&amp;se=2023-04-16T03%3A57%3A47Z&amp;sp=r&amp;sv=2021-08-06&amp;sr=b&amp;rscd=inline&amp;rsct=image/png&amp;skoid=6aaadede-4fb3-4698-a8f6-684d7786b067&amp;sktid=a48cca56-e6da-484e-a814-9c849652bcb3&amp;skt=2023-04-16T00%3A43%3A02Z&amp;ske=2023-04-17T00%3A43%3A02Z&amp;sks=b&amp;skv=2021-08-06&amp;sig=vDR0HyEykfekM245SzlfslloOf1yypcGYsr2tEO/R3c%3D">怖い2</a></li></ul><p>DALL-Eで生成したもので、<a href=https://openai.com/blog/dall-e-now-available-in-beta>権利の問題はなさそう (2023年4月16日閲覧)</a>:</p><blockquote><p>Starting today, users get full usage rights to commercialize the images they create with DALL·E, including the right to reprint, sell, and merchandise. This includes images they generated during the research preview.</p></blockquote></p></div><div class=post-footer><time>April 16, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-04-10/>2023-04-10</a></h1><div><p><p>この頃「詳解システム・パフォーマンス」を読んでいる。
チューニングをする機会はないのでツールの説明は読み飛ばしているが、
それに入る前の基礎的な概念を勉強している。
学部の授業でやった理論的な基礎から復習して、もう少し具体的な実装とか最近のアーキテクチャのこととかまで勉強できている気がする。</p><p>今からファイルシステムの章を読み始める。</p></p></div><div class=post-footer><time>April 10, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/book>#book</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-04-06/>2023-04-06</a></h1><div><p><h2><a href=#suica%e3%81%ae%e5%87%a6%e7%90%86%e6%96%b9%e5%bc%8f%e3%81%8c%e5%a4%89%e3%82%8f%e3%82%8b%e3%82%89%e3%81%97%e3%81%84 id=suicaの処理方式が変わるらしい class=anchor aria-hidden=true>Suicaの処理方式が変わるらしい。</a></h2><p>今まではレイテンシを減らすために改札をくぐった際の処理をローカルで行い、
その後まったり同期する、みたいな方式をとっているという記事をみた記憶がある。</p><p>これからそのように凝ったことはしないで、改札機はクライアント、処理は中央のサーバで行うそうだ。時代が変わったのでそれでもいけるとか。
なかなか驚きだ。どんなパフォーマンスチューニングやUXまわりの工夫がされているのだろうか。
Suicaの話は何回聞いてもロマンがあると感じる。運用開始が楽しみだ。</p><h3><a href=#%e5%8f%82%e8%80%83%e8%a8%98%e4%ba%8b id=参考記事 class=anchor aria-hidden=true>参考記事</a></h3><ul><li><a href=https://www.itmedia.co.jp/news/articles/2304/05/news131.html>なぜ？　「Suica」がサーバ型に移行する理由　25年近く稼働する“安全神話”の象徴に何が</a></li><li><a href=https://www.itmedia.co.jp/mobile/articles/2304/04/news155.html>“エリアをまたいだ乗車”実現なるか？　「Suica」の改札システムが順次リニューアル　2026年度完了予定</a><ul><li>今回の話</li></ul></li><li><a href=https://www.jstage.jst.go.jp/article/ieiej/31/6/31_408/_pdf/-char/en>Suicaシステムの概要</a> (2011, pdf)</li><li><a href=https://www.jreast.co.jp/youran/pdf/2019-2020/jre_youran_group_p69-74.pdf>IT・Suica事業</a><ul><li>これまでの話</li></ul></li></ul><h2><a href=#fitbit%e3%82%92%e5%86%8d%e9%96%8b%e3%81%97%e3%81%9f id=fitbitを再開した class=anchor aria-hidden=true>Fitbitを再開した</a></h2><p>昔Fitbitを使っていたのだけど、日々の記録が安定していておもしろくなかったから一年ほどでやめてしまった。
最近通知を腕で受け取りたいとか、ランニングのときにつける時計を変えたいみたいな欲求がでてきて探してみると、
Fitbitが良さげだったので再開することにした。<a href=https://amzn.to/3UdqtL4>Charge5</a>を使っている。
必要十分プラスアルファくらいの機能でいい感じ。ただSlack返信機能を誤作動させてしまったので対策したい。
ぱっといじった感じでは無効化する設定を見つけられなかった。
あとは腕時計をつけなれてなくてうっとうしく感じるのが欠点。</p><p>それ以外はばっちり。ランニングの記録もとれるし、通知もしっかり気がつける。
ディスプレイの常時点灯を時間をしていして有効にできるので時計としても完璧につかえる。</p></p></div><div class=post-footer><time>April 6, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tech>#tech</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-04-03/>2023-04-03</a></h1><div><p><p>オリエンテーリングの人たちと飲み会をした。
社会人としての心構え（）を教えて頂いた。
今日の入社式から頑張って行こうと思う。</p><p>こういう書き方をするとふざけているようにしか見えないだろうけど、
内心ではそれなりに不安に思っているし、
しっかりとしたフィードバックも受け取れたと思う。</p><p>今日、明日で良い出会いをできるといいな。</p></p></div><div class=post-footer><time>April 3, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/idea>#idea</a>
<a class=tag href=/%20/tags/alcohol>#alcohol</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-04-02/>2023-04-02</a></h1><div><p><p>CPythonの開発者向けドキュメントがとてもよい。今は<a href=https://devguide.python.org/internals/compiler/>コンパイラの構成に関する部分</a>を読んでいる。
抽象構文木の扱いやメモリ管理の方針など、コンパイラ開発の方針を説明している。
ドラゴンブックとかからは得られない、開発手法の知識を得られて幸せ。</p><p>好きな言語にドキュメントがたくさんあることは本当に嬉しい。</p></p></div><div class=post-footer><time>April 2, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/pl>#PL</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/univ-tech/>学生生活の振り返り（技術）</a></h1><div><p><h2><a href=#%e3%81%be%e3%81%88%e3%81%8c%e3%81%8d id=まえがき class=anchor aria-hidden=true>まえがき</a></h2><p>昨日学籍を失って、こんど入社式に出る。
学校に入ったり研究室に所属したり、
就職したりするときには自分が抱える課題と向き合い、
自分の幸せについて考えて進路を決めてきた。
これから先はそういう機会が来たことに気が付きにくくなるだろう。</p><h2><a href=#%e5%ad%a6%e9%83%a8%e3%81%ae%e9%81%b8%e6%8a%9e id=学部の選択 class=anchor aria-hidden=true>学部の選択</a></h2><p>高校生のころ、大学にはいることは周りの雰囲気からして僕の意思が入る余地はなく決まっていた。
そのなかで進路を悩んだ。理学と工学のどちらかにしようとは早く決めたのだが、
そこからの踏ん切りがなかなかつかず、出願するときにエイヤと決めた。
学問自体の面白さは理学に惹かれていたけど、就職とかキャリア的なことを考えると工学がよいのではないだろうかみたいな悩みかただったと思う。
結局目先の面白さを優先して理学を選んだのだった。就職はなんとかなるだろうと踏んでいたし、
学問の選択でなんとかならないのなら、自分は他の要因でなんとかならない人間であるはずなので、学問の選択でキャリアが狂うことを心配するのは無駄だと結論づけた。</p><h2><a href=#%e5%8c%96%e5%ad%a6%e3%81%8b%e3%82%89%e6%95%b0%e7%90%86%e8%a8%88%e7%ae%97%e3%81%b8%e3%81%ae%e8%88%88%e5%91%b3%e3%81%ae%e8%bb%a2%e5%90%91 id=化学から数理計算への興味の転向 class=anchor aria-hidden=true>化学から数理・計算への興味の転向</a></h2><p>高校生のころは化学が好きで、特に化学反応に惹かれていた。
水素と酸素を一緒にしてエネルギーをかけると十中八九水に落ちるのが不思議だと感じた。
統計的にそうなるのは受け入れらたのだが、反応の過程でなにが起きているのかがとても気になったし、
この好奇心は普遍的なもので、すでに賢いひとが調べているはずなので大学で勉強したいと思っていた。
大学で蓋をあけると、学部でやった化学や研究室で行われている研究は思ったよりもぼくにとって腑に落ちない考え方をしていて、
そのなかで勉強してもぼくはあまり幸せになれないだろうと感じた。</p><p>では腑に落ちるのはどういうときだろうか、みたいなことが気になりだした。これは学部一年の後期くらいのこと。
論理学とか心理学とか数学とかに答えがあるかもしれないと思いはじめて、論理学と数学を扱う数理計算科学系に所属することにした。
所属のためにはある程度の成績が必要だったのだが、勉強が楽しかったのと、なにより友達に恵まれたおかげで、無事に所属できた。</p><h2><a href=#%e6%95%b0%e5%ad%a6%e8%ab%96%e7%90%86%e5%ad%a6%e3%81%8b%e3%82%89%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0%e8%a8%80%e8%aa%9e%e7%90%86%e8%ab%96%e3%81%b8%e3%81%ae%e8%bb%a2%e5%90%91 id=数学論理学からプログラミング言語理論への転向 class=anchor aria-hidden=true>数学・論理学からプログラミング言語理論への転向</a></h2><p>数理計算の学部の講義（2018年4月から2020年3月）はどれも大体おもしろかった。
集合論とか解析の話をしっかり数学者に教えていただけたのは幸せだったと思う。
議論を正面からできる相手も複数人いてだいぶ恵まれていた。</p><p>学部では、数学の基礎や応用数学の入門や基礎（ORや確率・統計など）、計算機科学を学んだ。
どれも専門的な議論はできるほどにはならないが、その手の書籍が怖くない程度には身につけることができた。
数理論理学の講義も取り、不完全性定理の証明を追うなどした。
これらの学問は現象を表現する数理的な手段を追求するものとしての側面をもち、
当初の想定以上にぼくがかかえていた「腑に落ちること」の解釈（？）に影響を与えてくれた。</p><p>心理学とか小説とか、数理的とは限らない本を読むこともしていた。
そういう本を本で、自分の中で巡らせていた理解を答え合わせしていたのだと思う。
なんやかんやあって理解することとか腑に落ちること自体にはある程度の安定した解釈を持てて、
実用上困らなくなった。</p><p>ここまでが学部3年のこと。学部3年の後期に研究室に体験所属みたいなことをして、輪講みたいなことをする機会が会った。
そこで型理論に入門した。それまではプログラミングが好きじゃなかったのだが、プログラミング言語はおもしろいと思うようになった。
研究室の先生方がとくに魅力的なことを決め手にして、所属を決めた。</p><h2><a href=#%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0%e8%a8%80%e8%aa%9e%e7%90%86%e8%ab%96 id=プログラミング言語理論 class=anchor aria-hidden=true>プログラミング言語理論</a></h2><p>プログラミング言語の理論の勉強、研究はおもしろかった（2020年10月から、研プロを含む）。
論文や教科書はいままでで一番熱心に読んだし、人と議論して楽しいと感じた。
研究でも小さなものではあるが世の中の知見を広げた感覚は得られた。
この感覚は個人として、とても大切なものだと思っている。数学のゾクゾクする定理の証明を理解したときの感覚を、
だれから教えられるわけでもなくて、自分で考えて得られたことが嬉しかったし、それを人に共有できる喜びもあった。</p><h2><a href=#%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0 id=プログラミング class=anchor aria-hidden=true>プログラミング</a></h2><p>プログラミング言語についていると、嫌でもプログラミングのことを考える。
この型システムを持つ言語は使いやすいだろうか、どういうふうにプログラミングがかわるだろうか、など。
残念ながら僕にはプログラミングの経験があまりなく、その思考の幅が広がらなかった。
このままではだいぶ人生損すると思ってプログラミングをがんがんやりたいと思うようになった。
修士1年のころにはこの思いはそれなりに持っていた。</p><p>はじめの頃はどこから手を出していいかわからずだいぶ迷走した。
コンパイラ最適化の実装やインターンへの参加もして、ある程度開発をしたが世の中で行われているプログラミングとの乖離を感じていた。</p><p>転機になったのが、mepayでtentenさんが主催して開催されたGo関連の短期インターン（2022年3月）だった。
そこでGo言語に触れたことも大きかったし、なによりエンジニアやそれを志向する学生とコミュニケーションを取れたことでいわゆるソフトウェアエンジニアがどんなことをしていて、
彼らがするプログラミングを垣間見た。
その後友達の紹介でキャディでのアルバイトをはじめて、プログラミングの幅がさらに広がった。</p><p>今のぼくの関心事は上手に楽しくプログラミングをすることにある。
きれいに書くとか、メンテナンスできるとか、思ったことを自然に表現できるとか、どういう考え方がいい、みたいなことに興味がある。
これからはプログラミングの幅をもって広げつつ、上手に表現することを直近では追求したい。
さらにそのためのプログラミング言語や環境などについても考えて、形にできたら楽しそうだと思う。</p><h2><a href=#%e3%81%82%e3%81%a8%e3%81%8c%e3%81%8d id=あとがき class=anchor aria-hidden=true>あとがき</a></h2><p>腑に落ちて、自由自在に扱えるようになると楽しいと僕は感じるのだろう。
そのための過程にも楽しさを感じるように思う。</p></p></div><div class=post-footer><time>April 1, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-04-01/>2023-04-01</a></h1><div><p><p>久しぶりにロードバイクに乗った。
名古屋に帰ったとき以来かもしれない。3年くらいぶり？
腕が疲れてしまった。姿勢が良くない。
町中を走って信号にたくさん捕まったことで、
ブレーキをたくさんかけたり、停止からの加速をたくさんしたことが原因かもしれない。
荻窪から今の家までの16kmの道のり。</p></p></div><div class=post-footer><time>April 1, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-31/>2023-03-31</a></h1><div><p><p>東大の田浦先生が公開されている<a href=https://doss.eidos.ic.i.u-tokyo.ac.jp/>大規模ソフトウェアを探る</a>がとてもよかった。
GDBを使って大きなソフトウェアの振る舞いを理解する方法を学べる。
2年ほど前に、こういう資料が喉から手が出るほどほしいと感じていた記憶がある。</p><p>今日はこのあと研究のことを少し考え、後輩とお酒を飲む。
どちらも楽しみだ。</p><p>午前中には入社や書類を仕事をした。
Macのターミナルが重い。今まで使っていた研究室のでも重かったし、新しく使い始めたものでも重い。原因を調査中。
アプリを起動するのも重いし、コマンド実行が終了してプロンプトが返るまでのレイテンシもある。</p></p></div><div class=post-footer><time>March 31, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/book>#book</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/notify-github-actions/>GitHub Actionsの実行結果をDiscordに通知</a></h1><div><p><p>このブログはGitHub Actionsでデプロイしているのだが、
ここしばらくデプロイに失敗したことに気が付かずに放置してしまっていた。</p><p><a href=https://github.com/marketplace/actions/actions-status-discord>Actions Status Discord</a>というアクションを<a href=https://github.com/naoyafurudono/naoyafurudono.github.io/commit/1f7a900b4c8aa166dd735c61ee1667119b23e810>デプロイの最後に叩く</a>ことで、
いい感じの通知をDiscordにWebhook経由で送れる。</p></p></div><div class=post-footer><time>March 30, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/custom-markdown-translation-with-hugo/>Hugoのマークダウン処理をカスタム</a></h1><div><p><h2><a href=#%e8%83%8c%e6%99%af id=背景 class=anchor aria-hidden=true>背景</a></h2><p>HTML文書のheading要素の周りには<code>id</code>がついていてほしいし、
それへのリンクは手軽にコピーできて欲しい。
その点Googleのドキュメントはとても好き。
人に文書コンテンツを渡すときにこちらの意図がURLで表現できるし、
そのリンクを踏んだ側も見るべき箇所にスムーズにたどり着ける。
このブログを書くのに使っているHugoでも同じことをした。</p><h2><a href=#%e3%82%84%e3%82%8b%e3%81%93%e3%81%a8 id=やること class=anchor aria-hidden=true>やること</a></h2><p><a href=https://github.com/naoyafurudono/naoyafurudono.github.io/commit/3f28cbafd119216c194b82d1fded6b373e7a7332>このコミット</a>のように、
<a href=https://gohugo.io/templates/render-hooks/#heading-link-example>headingのHTMLへの変換を定義する</a>。</p><p>示したコミットでは<code>a</code>タグで囲むだけでなく、heading levelを増やしている。
Hugoではタイトルを<code>h1</code>にするにもかかわらず、マークダウンの<code>#</code>も<code>h1</code>にする。
そのせいで、本文を書くときは<code>##</code>から始める必要があって気持ち悪い。
この気持ち悪さを解消するために、マークダウンのheading level+1をhtmlのheading levelとしている。</p></p></div><div class=post-footer><time>March 30, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-29/>2023-03-29</a></h1><div><p><h2><a href=#%e3%82%ad%e3%83%a3%e3%83%87%e3%82%a3%e3%81%ae%e3%82%a2%e3%83%ab%e3%83%90%e3%82%a4%e3%83%88%e3%82%92%e5%8d%92%e6%a5%ad%e3%81%97%e3%81%9f id=キャディのアルバイトを卒業した class=anchor aria-hidden=true>キャディのアルバイトを卒業した</a></h2><p>今日はアルバイト先のキャディの方々に送別会を開いていただいた。
一年弱お世話になった。あのころはいろんなプログラミングの経験を積みたくて入社し、
結果としてキャディのあの部署（秘密なわけじゃないけど、名前がよく変わるので明言しない）
じゃないと積まなかっただろう経験を積ませて頂いたと思っている。
僕はだいぶ一緒に働いた方々に恵まれていて、こんなにぼくに都合の良い環境でいいのだろうかとなんど思ったかわからない。
機会があれば（つくれれば）また一緒にぜひとも働きたいと思っている。
それまではいわゆる大学で教わる「お行儀のよいプログラミング」しかしらなかったのだが、
仕事を通じてどのように僕の仕事に価値をつけるかを意識するようになった。</p><p>例えば研究でできないことがわかったと共有することはひとつの貢献だと教わって言葉ではわかっていたことを、
キャディでの仕事を通じて、実際にアウトプットとして共有できたし、他人ができないといっていたことをぼくにとっての利益として活用する経験を得られた。
僕のキャリアを考える糸口にさせていただいたし、何人かの方々には相談にのっていただいた。そもそも相談する機会をいただけたこともありがたい。
一重に感謝している。すこしでも皆さんに僕が貢献できたのなら光栄だと思っている。</p><p>送別会では、スポーツ羊羹とキャラメルを頂いた。エネルギーが凄そうなので、日本のどこにいても駆けつけられるだろうと思う。
みなさんお世話になりました。ありがとうございました。</p><h2><a href=#%e5%a4%a7%e5%ad%a6%e9%99%a2%e3%82%92%e5%8d%92%e6%a5%ad%e3%81%97%e3%81%9f id=大学院を卒業した class=anchor aria-hidden=true>大学院を卒業した</a></h2><p>2020年から（学部は2017年から）通っていた東京工業大学を卒業した。
晴れてぼくはmaster of scienceとして認めていただけた。心残りは多々あるし、これからもやることは山積みだが、一つの節目は迎えられたのだろう。
これからは積み残しと社会でのよしなしごとに精進する（心持ちは変わらないだろうけど。ぼくは自分と他人の、幸せと自由を追求し理解することをライフワークとするのだろう）。
大学でもぼくは人間関係に恵まれていた。友達にも恵まれたし、先生や先輩、後輩にも恵まれた。
みなさんの優しさのおかげでいままで楽しく生きてこれたと思うし、今の僕の人格があると思う。
もちろん僕の至らぬ点は僕の責任である。それでも僕が人に感謝できるのは周囲の人に優しくしてもらったからだと思う。
これからも人の優しさを享受しつつ、それ以上に人に優しくしていくことを目指す。そして、優しさの価値観を洗練させていきたいと思う（たとえば厳しいことを受け入れられるように伝えるとか）。</p><p>僕の大学での生活は研究に限らず他者との交流に強く幸せが依存していた。
学部のころはオリエンテーリング部での活動や、学科の友達、一年生の頃からの友達との交流でいろいろなことを構成してきた。
それとは独立して本を読んだり一人で考え事をする機会もあったが、それは人との交流と必ずしも独立していなかったと思う。
僕の中で際立っている人間関係はあるが、ここでは明言しないでおこう。
研究で3人、一年生からはひとり、部活はいろいろ、その他はインターンやアルバイトという感じ（今の僕にはわかるように表現したつもり）。
僕が他者にどんな影響を与えたかはわからないが、たまには思い出してもらえたら嬉しいと思っている。</p><h3><a href=#%e5%8d%92%e6%a5%ad%e6%97%85%e8%a1%8c%e3%81%a8%e9%a3%b2%e3%81%bf%e4%bc%9a id=卒業旅行と飲み会 class=anchor aria-hidden=true>卒業旅行と飲み会</a></h3><p>卒業に際して旅行と飲み会をした。いつものメンツや久しぶりの人たちと互いの卒業とこれからの人生を祝福した。
楽しいし、彼らとずっと一緒にいたいと思う。</p><h2><a href=#%e7%a0%94%e7%a9%b6%e5%ae%a4%e3%81%ae%e6%96%b0%e5%85%a5%e7%94%9f%e3%81%ab%e7%a0%94%e7%a9%b6%e7%b4%b9%e4%bb%8b%e3%82%92%e3%81%97%e3%81%9f id=研究室の新入生に研究紹介をした class=anchor aria-hidden=true>研究室の新入生に研究紹介をした</a></h2><p>僕が所属した（所属している）増原研では、この時期に先輩が新入生に対して自身の研究内容を紹介する。
僕も自分がやってきた研究を紹介した。僕自身も学びがあるし、新入生は無知の知を得られるのだろう。
今日のミーティングが少しでも彼らの糧になれば幸いだ。次にいつ彼らと交流できるかわからないが、話したりアウトプットを観測するのが楽しみだ。</p><h2><a href=#%e3%82%aa%e3%83%95%e3%82%a3%e3%82%b9%e3%82%ab%e3%82%b8%e3%83%a5%e3%82%a2%e3%83%ab id=オフィスカジュアル class=anchor aria-hidden=true>オフィスカジュアル</a></h2><p>4月から入社する会社（秘密というわけではないが、まだ入社していないので明言しない）で最初のころはオフスカジュアルとお達しを受けた。
オフィオスカジュアルを一ミリも理解していなかったので、研究室の先生方や後輩、 お店の店員さんに質問しまくり、ある程度落ちつけた。
感想としては、スーツを指定されたほうが楽だなと思っている。
それでも僕はいろいろな有識者の「オフィスカジュアル」を研究した上で出社する。最高のオフィスカジュアルで望むのご期待ください。</p></p></div><div class=post-footer><time>March 29, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-21/>2023-03-21</a></h1><div><p><p>今日は久しぶりに自転車をいじった。
しばらく乗っていなかったのでタイヤとチューブを交換して、
移動のために外していたリアディレーラを取り付けた。
チェーンオイルを注せばある程度の遠乗りはできるだろう。</p><p>ライトとヘルメット、夏用のグローブを買わないといけない。
アイウェア（なんていうんだったか）も必要か。自転車はお金がかかって良くない。
でも深夜に自転車で走るのが一番どきどきするし、ランニングとかでは使わない筋肉を使う楽しさがある。
それなりに遠くにいけるのも良いが、関東は広すぎる。遠くまで来た気になるにはだいぶ頑張らないといけない。
箱根を越えるとだいぶ来た気になるが、それ以上に大変。</p></p></div><div class=post-footer><time>March 21, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-19/>2023-03-19</a></h1><div><p><p>最近AIが流行っていて、精度がすごいと話題で、生活が多かれ少なかれ変わっていくのだろうなという感じがする。
ああいう機械学習ベースのAIは学習で直感を鍛えて、それに基づく出力をするものだと僕は解釈している。
人間が頭を使うときには直感を論理とか議論で検証して、主張の穴を見つけて改善するサイクルを回すはずだ。
今の機械学習っぽいAIは直感で得た主張を論理で解釈しないだろう（<a href=https://www.nec.com/en/global/rd/technologies/201807/index.html>NECがそういうことを考えていそう</a>。
それができればAIはもっとつよくなるはずだし、そういうAIを見てみたい。</p><p>実現するためにはAIの入出力に使う「言語」に解釈を入れることと、それをもとにして論証を行うことが必要だろう。
今のAIは抽象構文木を操作の対象にしていて、それを意味を解釈するようにしたらいいんじゃないかという想像だ。</p><p>今ある論理が世の中の事象を扱うのに十分かはわからないし、多分結構不足しているはずだ。
機械学習AIのための論理体系の研究とかあったら楽しいだろう。NIIとかでやってないだろうか？</p><h2><a href=#big-peat%e3%81%8c%e3%81%99%e3%81%94%e3%81%8f%e3%81%8a%e3%81%84%e3%81%97%e3%81%84 id=big-peatがすごくおいしい class=anchor aria-hidden=true>Big Peatがすごくおいしい</a></h2><p>おととい届いた<a href=https://bigpeat.com/>Big Peat</a>がとてもおいしい。
明日の研究室飲み会にもっていこう。ちょうど二年くらい前に部活の先輩に勧めていただいたのだが、
懐具合の問題で飲めずにいた。少し無理してでも飲んでおいたほうが良かったかと思うくらいには好き。
ストレートで飲んでもおいしいし、ハイボールにしてもおいしい。天才か？
ぼくはスコッチウイスキー？が好きなのかもしれない。</p><p>学部2年のころ、確率論基礎の試験の前日にウイスキーを飲む会に誘っていただいたとき、
ラフロイグ・ロアを味見させていただいて半分感動したのを覚えている。
あのころは二十歳になりたてでお酒のおいしさは今よりも分かっていなかったのだが、それでもいいかんじなことは分かった。
それからラフロイグ・ロアには縁がなかったのだが今気になっている。
数量限定なようで、毎年11月ころに発売されそうな雰囲気がある。今もアマゾンで売ってるが、転売価格に見えるので時期がくるまで我慢しよう。</p><p>ちなみにBig Peatと一緒に勧めていただいたジョニーウォーカーのグリーンラベルはすでに飲んでいて、 やはり好きな感じだった。</p></p></div><div class=post-footer><time>March 19, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/pl>#PL</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/idea>#idea</a>
<a class=tag href=/%20/tags/alcohol>#alcohol</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-17/>2023-03-17</a></h1><div><p><p>ホットクックで鶏大根を作った。
大根に火がうまく通っていて本領発揮を感じた。</p><p>注文していた<a href=https://bigpeat.com/>Big Peat</a>が届いたので、走ってから飲もうと思う。楽しみ。</p><h2><a href=#%e3%82%af%e3%83%a9%e3%82%b9%e6%8c%87%e5%90%91%e3%81%aeoop%e3%81%8c%e3%82%8f%e3%81%8b%e3%82%89%e3%81%aa%e3%81%84 id=クラス指向のoopがわからない class=anchor aria-hidden=true>クラス指向のOOPがわからない</a></h2><p>クラス指向のOOPがわからない。
クラスを作ってそのインスタンスを量産するようなプログラムを書いた経験がないからだろう。</p><p>そもそもクラスインスタンスを作った経験が乏しい？
文字列みたいな基本的なオブジェクトや、
REST APIのクライアント、イテレータとかくらいのデータ構造くらいは確かにクラスが必要でお世話になっている。</p><p>インスタンス変数を定義するのが苦手なのかも？
コンパイラみたいなデータ構造に対して一回処理をしておしまいなプログラムでは、
そういう一回の処理をメソッドとして定義するのが不自然？
そういうコードを書いているときに、クラスに押し込もうとするとインスタンス変数がモジュール変数に見えてくる。
これは別に問題ないか。</p><p>なにがつらいのかわからなくなってきた。</p></p></div><div class=post-footer><time>March 17, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/cock>#cock</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/window-manager/>使い勝手の良いデスクトップ向けウィンドウマネージャが欲しい</a></h1><div><p><p>使い勝手のよいウィンドウマネージャがWindowsとかMacに搭載されることはないだろう。
使うアプリケーションやブラウザ、入力デバイスやその使い方によって使い勝手が大きく変わるだろうから。
OSが決め打ちで提供できるものでは無いんじゃないかと思う。
なので自分でまじめに使い勝手の良いものを考える必要がある。</p><p>先日オリエンテーリングのインカレの配信のお手伝いをしたのだが、
そこで使っていたスイッチャがなかなかデスクトップでのウィンドウマネージャの機能として魅力的に感じた。</p><p>スイッチャにはいろんなウィンドウ（カメラからの入力や、図、合成用のテロップなど）が接続されていて、
すべてが画面の下部に控えめに表示される。
それらを見ながらスイッチャのオペレータが放送するためのウィンドウを選択、合成する。
放送されるウィンドウは画面上部に大きく表示される。
放送されるウィンドウの右に同じサイズでプレビューウィンドウも表示される。
これらの違いは放送されるか否かだけで、合成のテストとかに使える。</p><p>これを実現するためには操作用のデバイス（このデバイスをスイッチャというようだ）と、
大きなモニタが必要だ。</p><p>デスクトップのウィンドウマネージャでもスイッチャのように</p><ul><li>すべてのウィンドウを表示しておいて</li><li>本番+alphaくらいのウィンドウをメインエリアに表示する</li></ul><p>と便利な気がする。
単純にはいかないだろうけど、いい線行きそうだ。</p><p>懸念事項は以下の通り:</p><ul><li>ウィンドウの個数が多くなりそう</li><li>ウィンドウサイズが固定ではない（アスペクト比）</li><li>ウィンドウの動的な生成とその配置方法が非自明</li></ul></p></div><div class=post-footer><time>March 16, 2023</time>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/idea>#idea</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/effect-handlers-without-continuation/>エフェクトハンドラの良さと実用性について</a></h1><div><p><p>エフェクトハンドラで継続や代数的エフェクトを扱う必要性は一ミリもなくて、
実用的にそれらが欲しくなることはないか、
あるいは限られていてそこまで一般的な機能を提供する必要はないんじゃないかと感じている。</p><p>このあたりを議論するために</p><ol><li>エフェクトハンドラの嬉しさ</li><li>意味論の歴史的経緯</li><li>改善ポイント</li></ol><p>を考える。</p><p>なお、この記事はとくに裏付けもなく書いている。
気が向いたら裏付けをしようと思っているが、
この記事の目的は僕の考えの整理であって、世に主張をしたいわけではない。</p><p>記事の内容は不正確なことを留意されたい。</p><h2><a href=#%e3%82%a8%e3%83%95%e3%82%a7%e3%82%af%e3%83%88%e3%83%8f%e3%83%b3%e3%83%89%e3%83%a9%e3%81%ae%e5%ac%89%e3%81%97%e3%81%95 id=エフェクトハンドラの嬉しさ class=anchor aria-hidden=true>エフェクトハンドラの嬉しさ</a></h2><p>エフェクトハンドラが実際的 (practical) なプログラミング言語でエンドユーザに使わせたくなるのは</p><ul><li>エフェクトシステムと相性のよい意味論</li><li>動的束縛</li></ul><p>を提供したいからではないだろうか。
エフェクトハンドラを言語に入れれば、それで表現できる操作は自動的にエフェクトシステムで追跡できるし、
ハンドラを用いることでエフェクトをローカルに使えるのは特筆するべきだろう。
汎用性とlocal reasoningのしやすさはエフェクトハンドラのもつ良い性質だと思う。</p><p>エフェクトハンドラで実現できる動的束縛はとても使い勝手が良い上に、
エフェクトシステムで追跡することで使い勝手が上がりそうだ。
動的束縛のためだけのエフェクトシステムではなく、もう少し凝ったことができるエフェクトシステムがつくとなお幸せだろうから、エフェクトハンドラみたいな抽象度の比較的高いフレームワークで実現するのは幸せなんじゃないかと感じる。</p><h2><a href=#%e6%84%8f%e5%91%b3%e8%ab%96%e3%81%ae%e6%ad%b4%e5%8f%b2%e7%9a%84%e7%b5%8c%e7%b7%af id=意味論の歴史的経緯 class=anchor aria-hidden=true>意味論の歴史的経緯</a></h2><p>エフェクトハンドラと呼ばずに &ldquo;algebraic effects&rdquo; とか &ldquo;algebraic effects and handlers&rdquo;
とか呼ぶ流派、時代がある。
歴史的には</p><ul><li>algebraic effects</li><li>algebraic effects and handlers</li><li>effect handlers</li></ul><p>みたいな流れで登場したはずだ。
最初はハンドラはなくて、モナドとかの話をするような人たちが副作用にモナドではない別の表現を与えようとしたんだったか。
ここでいうモナドはモナド則とかを真面目に考えるような数学のモナド。代数的エフェクトもその流れの中に（このころは）あったはず。
そもそも代数的エフェクトの代数とは、操作が（0だか1こ以上）あって、それらに等式制約を課す。それを満たすようなモデルを持つのが代数 (algebra) である、みたいな世界だっと思う。群とか環は代数だけど、体は代数じゃないみたいな話を聞いたことがある。
そういうのりの代数として、エフェクトを表現したらモナドの合成みたいなことを考えるときに幸せだ、という主張がことの発端だった気がする。</p><p>ここまでは数学とかモデル理論？とかの話によっていて、あまりプログラミング言語っぽい雰囲気がしない。
ハンドラとか継続が入ってきた経緯はしらないが、多分、プログラミング言語に代数的エフェクトを入れるにあたって、
モナドのbindやreturnみたいなものを定義するように、エフェクトに意味を与える仕組みとしてハンドラが考えられたんじゃないかと思う。
このあたりは論文をまじめに読めば分かるはず。
これが確か2014年くらいのこと。</p><p>2000年くらいだったかから考えられていたエフェクトシステムとの相性に目をつけたからか知らないが、
「代数的エフェクトとハンドラ」を取り入れた言語が2014年ころに登場し始める。2017年くらいにでてくる印象がある。
EffやKokaはこのへんな気がする。
このあたりで、エフェクトが代数的であることはとくに気にされなくなっていき、エフェクトシステムと例外ハンドラがうまいこと組み合わさる限定継続演算子くらいの気持ちで代数的エフェクトとそのハンドラが捉えられて、
やがて代数的ではないことが気になる人々がエフェクトハンドラと呼ぶようになったのではないかと思っている。</p><h2><a href=#%e6%94%b9%e5%96%84%e3%83%9d%e3%82%a4%e3%83%b3%e3%83%88 id=改善ポイント class=anchor aria-hidden=true>改善ポイント</a></h2><p>限定継続は本当に必要だろうか。
もっとやさしい概念を提供するのにとどめるのはいかがだろうか。ワンショット継続とかに限定する言語もあるが、それは正しい方向性だろうか。</p><p>僕たちがほしかったものは、local reasoningしやすいエフェクトシステムとそれで健全に管理できる意味論なんじゃないかと思う。
エフェクトハンドラはその条件を満たすけど、もっと使い心地のよい意味論があるはずだと思う。</p><h2><a href=#%e3%81%82%e3%81%a8%e3%81%8c%e3%81%8d id=あとがき class=anchor aria-hidden=true>あとがき</a></h2><p>最後の文をメモしたくてこの記事を書いた。それ以外は文脈である。</p></p></div><div class=post-footer><time>March 16, 2023</time>
<a class=tag href=/%20/tags/pl>#PL</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/idea>#idea</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/gcp-cred/>Google Cloudの認証を必要とするアプリケーション開発について</a></h1><div><p><p>Google Cloudの認証・認可はきめ細かくちゃんとしている感じがして、扱うのが難しいと感じていた。
少し調べたら<a href=https://cloud.google.com/docs/authentication/client-libraries#adc>Application Default Credentials with client libraries</a>の説明を見つけて腹に落ちた。
これを抑えた上で、<a href=https://cloud.google.com/docs/authentication/provide-credentials-adc#how_to_provide_credentials_to_adc>それぞれの実行環境でどのようにcredentialをセットアップするか</a>を見ると、プロセスの権限が半分くらいわかる。ここまでで、サービスアカウントがどのようにプロセスに付与されるかを理解できるはずだ。</p><p>次に、それぞれのサービスアカウントがどのようなリソースへのアクセスをもつか、それをどうやって設定するかを確認すれば認証・認可を自由に管理できるんじゃないかと思う。
<a href=https://cloud.google.com/docs/authentication/application-default-credentials#personal>How Application Default Credentials works</a>が良い水先案内に見える。</p><p>このあたりは知識がないと本当に挙動がわけわからないので分かりやすいところにドキュメントを置いといたり、積極的にエラーメッセージで教えてほしい。
Google Cloudを使う上での義務教育だと感じた。</p></p></div><div class=post-footer><time>March 14, 2023</time>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-14/>2023-03-14</a></h1><div><p><p>TODO: 割と眠いときに書いたのでまとまっていない。気が向いたら書き直す。</p><p>日常のおしゃべりではなくて、仕事や練習、議論の場でどれくらい「優しく」するべきかは悩ましい。
真剣に、最短でコミュニケーションするといわゆる優しさが欠けがちなのだが、
いわゆる優しさを優先してコミュニケーションしていると本来の目的が疎かになる。</p><p>例えばコードレビューでイカれた名前をつけ、グローバル変数を好き放題使っているコードを出されたときにはそれらを指摘して改善に導くのが本来の目的だ。
コードのまずい点を明確に指摘して、それが及ぼす悪影響なんかも添えると親切だろう。
さらに改善案を示して、その変更を採用した場合の影響を示すのも有効だと思う。
ただ、こういうことを最小限のコミュニケーションで提示すると、レビュイーは自分がバカであると感じたり、最初からレビュワーがやればいいではないかと感じることが多そうだ。
それを避けて、正面から改善のために向き合えるように「優しさ」を発揮して、生じるのが今回議論したい優しさ優先のコミュニケーションだ。</p><p>ぼくは優しさ優先のコミュニケーションはいらなければそれに越したことはないけど、一般的には必要なものだと思っている。
不要な情報は発せられないことは当然望ましいけど、モチベーションみたいなものは大切で大事に扱わないといけないだろうから。</p><p>優しさのない、そっけない態度で議論とかを振られると、そのときむっとすることはあるが、あとから信頼みたいなものを感じて嬉しくなるのはぼくだけだろうか。
ある程度信頼している相手にそういうそっけないやり方で議論を振ったときに、向こうに分かってもらえず少し嫌われたことがあってちょっとしたトラウマになっている。</p><p>これを読むと、僕は冗談とかが嫌いな人間に思えるかもしれないが、そんなことはない。
議論に冗談が挟まるのは割と好き。でもその余裕がないときとか白熱したときとかにダイレクトに主張を交換できる関係は幸せだという認識がまずある。
その上で、まだそこまで至っていない関係では、コミュニケーションを工夫して補うのがいいんじゃないか、という考え方をしている。</p><p>これを書こうと思ったのは、優しさを脇においたコミュニケーションに反感を買う様子を目の当たりにしたからだ。そこで気づきを得て、内容をぼかして抽象的なことを書いてみた。
だれも悪くないし、みんないい人なのであの環境のもやもやを解決できるといいなと思っている。</p></p></div><div class=post-footer><time>March 14, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-03-09/>2023-03-09</a></h1><div><p><p>昨日PPLから帰ってきた。初めて対面で学会に参加した。
対面だと変な疲れ方しないし、コミュニケーションを取りやすいのがいい。
ポスター発表が特に楽しかった。</p><p>研究室の人とバーに行った。初めてのバーだった。
初めて飲むたぐいのお酒を飲んだし、初めての飲み方をした。
僕はやはりウイスキーが好きなことがわかった。</p><p>ふんわり想像していたことを2つ実際に経験できたわけで、それぞれ期待を上回る部分や下回る部分があったのでメモ。
学会は思ったより楽しいし、普段合わない人に話が意外と通じる。
とはいえ常に話が盛り上がるわけではなくて、お互いにある程度深い話ができないとそんなに盛り上がらない。
話がわからないと全然盛り上がらないのは結構強く感じた。
研究分野に流行り廃りができるのはこのあたりが大きな要因なのではないだろうか。
そして友達はそうそう簡単にはできない。アウトプットがベースにある交流の積み重ねが必要なのだろう。</p></p></div><div class=post-footer><time>March 9, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/linux-keys/>Linux (gnome) でよくやる設定</a></h1><div><p><p>GNOMEというかLinuxというかでよくやる設定を列挙する。
キーボード系が多いと思う。</p><h3><a href=#gnome-terminal-%e3%81%a7ctrl-shift-tab%e3%82%92%e6%9c%89%e5%8a%b9%e3%81%ab%e3%81%99%e3%82%8b id=gnome-terminal-でctrl-shift-tabを有効にする class=anchor aria-hidden=true>gnome-terminal で<code>ctrl-(shift-)?tab</code>を有効にする</a></h3><p>以下を実行</p><pre><code class=language-sh>gsettings set org.gnome.Terminal.Legacy.Keybindings:/org/gnome/terminal/legacy/keybindings/ next-tab '&lt;Primary&gt;Tab'
gsettings set org.gnome.Terminal.Legacy.Keybindings:/org/gnome/terminal/legacy/keybindings/ prev-tab '&lt;Primary&gt;&lt;Shift&gt;Tab'
</code></pre><p>参考: <a href=https://askubuntu.com/questions/133384/keyboard-shortcut-gnome-terminal-ctrl-tab-and-ctrl-shift-tab-in-12-04>https://askubuntu.com/questions/133384/keyboard-shortcut-gnome-terminal-ctrl-tab-and-ctrl-shift-tab-in-12-04</a></p><h3><a href=#capslock%e3%81%a7%e8%8b%b1%e6%95%b0%e5%a4%89%e6%8f%9b id=capslockで英数変換 class=anchor aria-hidden=true><code>capslock</code>で英数変換</a></h3><p><a href=https://github.com/k0kubun/xremap><code>xremap</code></a>や<a href=https://github.com/mooz/xkeysnail><code>xkeysnail</code></a>を使う
どちらもそんなに使い心地は変わらないと思う。
今は<code>xkeysnail</code>を使っている。</p><h3><a href=#xkeysnail%e3%82%92systemd%e3%81%ab%e8%b5%b7%e5%8b%95%e3%81%97%e3%81%a6%e3%82%82%e3%82%89%e3%81%86 id=xkeysnailをsystemdに起動してもらう class=anchor aria-hidden=true><code>xkeysnail</code>をsystemdに起動してもらう</a></h3><p>課題が2つある:</p><ul><li><code>xkeysnail</code>が<code>uinput</code>を必要とすること<ul><li><code>sudo</code>が必要とreadmeに書かれているのはこれが理由</li></ul></li><li><code>xkeysnail</code>をsystemdに登録すること<ul><li><code>sudo</code>つけられない/等価なことはできない？</li></ul></li></ul><p>以下のように解決する</p><ol><li>必要な権限を自分に与える<ol><li>sudoなしで<code>xkesynail</code>を実行できるようになる</li></ol></li><li>systemdに登録して、ログインくらいのタイミングで有効にする</li></ol><h4><a href=#%e6%a8%a9%e9%99%90%e3%82%92%e4%b8%8e%e3%81%88%e3%82%8b id=権限を与える class=anchor aria-hidden=true>権限を与える</a></h4><p>これの通りにやればよい: <a href=https://github.com/mooz/xkeysnail/issues/64#issuecomment-600380800>https://github.com/mooz/xkeysnail/issues/64#issuecomment-600380800</a></p><h4><a href=#systemd%e3%81%ab%e7%99%bb%e9%8c%b2%e3%81%99%e3%82%8b id=systemdに登録する class=anchor aria-hidden=true>systemdに登録する</a></h4><ol><li>設定ファイルを書く <a href=https://github.com/naoyafurudono/configs/blob/main/systemd/user/xkeysnail.service>https://github.com/naoyafurudono/configs/blob/main/systemd/user/xkeysnail.service</a></li><li><code>~/.config/systemd/user/</code>におく<ol><li>バイナリをおく: 上の例では<code>~/.local/bin</code>においてあることを想定している</li></ol></li><li>systemdに登録する: <code>systemctl --user enable --now xkeynail</code><ol><li><code>enable</code>で登録、<code>--now</code>で今実行</li></ol></li></ol><p>もしうごかなかったら<code>jounalctl -r</code>でsystemdのログをみる。</p><h3><a href=#%e8%b5%b7%e5%8b%95%e6%99%82%e3%81%abmozc%e3%81%ae%e6%97%a5%e6%9c%ac%e8%aa%9e%e5%85%a5%e5%8a%9b%e3%82%92%e6%9c%89%e5%8a%b9%e3%81%ab%e3%81%99%e3%82%8b id=起動時にmozcの日本語入力を有効にする class=anchor aria-hidden=true>起動時に<code>mozc</code>の日本語入力を有効にする</a></h3><p><a href=https://github.com/naoyafurudono/configs/blob/main/mozc/ibus_config.textproto>https://github.com/naoyafurudono/configs/blob/main/mozc/ibus_config.textproto</a>を<code>~/.config/mozc/</code>におく。</p><p>参考: <a href=https://blog.nfurudono.com/posts/mozc-default-engine/>https://blog.nfurudono.com/posts/mozc-default-engine/</a></p></p></div><div class=post-footer><time>February 28, 2023</time>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/tool>#tool</a>
<a class=tag href=/%20/tags/linux>#linux</a>
<a class=tag href=/%20/tags/gnome>#gnome</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-27/>2023-02-27</a></h1><div><p><p>Gentooが入った。基本的に待っているだけではあるのだけど、それがなかなか大変。
パッケージを一瞬でインストールできる幸せに気がついた。
割とすぐにUbuntuに戻るかもしれない。
今はnodejsとtexliveをコンパイルしている。
未だかつてなくCPUが仕事をしている。かわいそうに。
とはいえportageに触れるのはなかなか楽しい。</p><p>mozcの設定はこのブログのメモに助けられた。過去の自分に感謝。</p><p>(追伸) Gentooを入れるためにssdを付け替えたのだけど、そのときにじゃまで外したCPUクーラーがうまくはまっていなかった。
このPCはまともな冷却なしでもろもろをビルドしていたのだ。本当にかわいそうなことをしてしまった。
ずっとうるさかったのでさっさと気がつくべきだった。今はこれまでがうそのように静か。</p></p></div><div class=post-footer><time>February 27, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/ubuntu>#ubuntu</a>
<a class=tag href=/%20/tags/gentoo>#gentoo</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-26/>2023-02-26</a></h1><div><p><p>Golangをすごく久しぶりに書いた結果、構造体の要素がコピーされることを忘れておりデバッグに時間を溶かした（コピーした構造体のフィールドを書き換えて、コピー元に変化が起きると思い込んでいた）。
最近はPythonやTSか、関数型言語ばかり書いていて、Cっぽい構造体の扱いをしていなかったので忘れてしまっていたのだろう。
忘れていたけど、CやGoのように構造体の要素をコピーする意味論は好き。直感的というか、明示的にポインタを表現することが好きなのだろうか。</p></p></div><div class=post-footer><time>February 26, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/pl>#PL</a>
<a class=tag href=/%20/tags/tech>#tech</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/print-docs/>軽いドキュメントを印刷するためのツールが欲しい</a></h1><div><p><p>さくっと書いた文書を印刷したいことがある。
ビジネスライクな手紙とか、その日のTODOリストなんかがそうだ。
LaTeXやMadokoを使うのは大げさな感じがして、諦めて手書きするか、Google Docsで済ませることが多い。
とはいえ手紙の書き方を毎回調べたり、フォーマットを調整したり、PCで打ち込んだデータを手書きするのはつらい。</p><p>テンプレートと変数の宣言、UIの調整と文書のまともな処理をして印刷（A4）できるものが欲しい。A4のPDFに変換できればよい。
それぞれの文書のソースはマークダウンのちょっとした拡張くらいの文法で書きたい。エディタで編集したいのでGoogle Docsとかはなしで。
テンプレートの作成方法はテキストにこだわらない。いじりやすいと嬉しい。</p><p>問題が以下のように分割できるはず。</p><ul><li>テンプレート作成</li><li>ソースの文法<ul><li>Markdown拡張</li></ul></li><li>テンプレートへのソースの埋め込み</li><li>PDFへの変換</li></ul><p>HTML/CSSやlatexを勉強してMadokoでくっつければなんとかできる気はするが、大変そうだしあまり楽しくない。
文書作成ツールを自作するか？とりあえず、HTML/CSSで手紙を表現できるようになるところから始めるのが良さそうか。
自作マークダウン拡張（というより処理系）はまれに欲しくなるのでやっても良いだろう。Hugoもそんなに快適じゃないし、Madokoはいじりにくいので。</p><ul><li>自分でコードをいじりやすいこと</li><li>メタな文書処理がしやすいこと<ul><li>識別子や文書の変数への束縛、正規表現やCFGベースのテキスト置換など</li><li>この辺はMadokoが強い</li></ul></li><li>そういえばMadokoはPDFの生成でHTMLを使わずにlatexを使っていたな&mldr;</li></ul><p>ここまで来て、<a href=https://github.com/cognitom/paper-css>Paper CSS</a>という良さげなリポジトリを見つけた。
Qitaでこのライブラリを使って<a href=https://qiita.com/cognitom/items/d39d5f19054c8c8fd592>帳票を作る例が解説されている</a>。</p><p>まだそれぞれをあまり読んでいないのであとで確認する。
このあたりの技術に合うように出力することにして、それを生成するマークダウンエンジンを用意すればok?</p><p>やはりしんどい気がする。GUIでなんとかする方法を探すのが楽だろうか。
あらためて考えよう。</p><h3><a href=#%e8%bf%bd%e8%a8%98-google-docs-api id=追記-google-docs-api class=anchor aria-hidden=true>追記: Google Docs API</a></h3><p><a href="https://developers.google.com/docs/api/reference/rest?hl=ja">Google Docs API</a>を利用するのはどうだろうか。
APIはあまりリッチではなくて、create, update, pullができるのみ。
文書構造の編集はJSONをごりごりいじることで実現する。
<a href="https://developers.google.com/docs/api/reference/rest/v1/documents?hl=ja">JSONスキーマが定義されている</a>ので、これを見ながら必要な変換を定義すればよい。</p><p>テンプレートをGoogle DocsのGUIで作成して、それをAPIでpullした上で、コンテンツを注入したドキュメントをcreateすれば、やりたかったことを実現できそうだ。
テンプレートの置き換え箇所の指定方法はどうするのが良いだろうか。</p><p><code>(開始記号)名前(引数リスト)(終了記号)</code>を文書に埋め込む。これがひとかたまりの文書オブジェクトとして認識されることが必要。
また、これにスタイリングを適用した場合、埋め込み後もそのスタイリングが保たれるようにする。
引数に他の名前が出現しうることに注意する</p><p>テンプレに埋め込むテキストを定義する側では、埋め込み内容の定義リストを作成する:</p><pre><code class=language-python>def name(args: list[str]) -&gt; str:
  return f&quot;&quot;&quot;\
ここに置換後の文字列を書く。
ここにも埋め込みの出現を許す。
&quot;&quot;&quot;
</code></pre><p>埋め込み処理では、JSON形式のテンプレのすべてのテキストについてマクロ展開をすればよい。</p></p></div><div class=post-footer><time>February 24, 2023</time>
<a class=tag href=/%20/tags/idea>#idea</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-24/>2023-02-24</a></h1><div><p><p>最近は時間とベーシックな元気が足りない。この時期にやりたいこと/やるべきことがたくさん押し寄せてくるのはどうしてだろう。
変わり目だからか。これまでぼちぼちやっていたものを、みんなが足並みをそろえて一段落つけようとするから忙しいのだろう。
意識的に間引く必要があるかな。</p></p></div><div class=post-footer><time>February 24, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/my-pc/>PCの構成メモ</a></h1><div><p><p>PCを自作して使っているのだけど、どんなパーツを使ったか忘れて後でなにか買い足すときに互換性があるかわからなくてこまる。
今回調査してメモしておく。</p><ul><li>CPU: Core i5 12400</li><li>マザーボード: GIGABYTE B660M DS3H AX DDR4 [Rev.1.x]</li><li>RAM: <a href=https://amzn.to/3ZdyVLF>DDR4-3200 (2933・2666対応) (PC4-25600) W4U3200CM-8GR</a></li><li>SSD: WDS500G3X0E<ul><li>M.2 NVMe 内蔵SSD / 500GB / PCIe Gen4x4 / WD BLACK SN770 NVMe SSDシリーズ</li></ul></li><li>ケース: <a href=https://amzn.to/3ZxnLlp>Thermaltake Versa H17 ミニタワー型PCケース CS7096 CA-1J1-00S1NN-00</a></li><li>電源: <a href=https://amzn.to/3Z0HhXp>XPG PYLON パイロン 450W PC電源ユニット [ 80PLUS Bronze認証取得 ] PYLON450B-BKCJP</a></li></ul><p>Ubuntuを入れて使っているけど特に不満はない。不満はないのだが、この間Gentooのことを教えてもらって面白そうなので使ってみようと思っている。</p><p>余談だが、このPCは親に就活で必要だろうからといって渡してもらったお金で組んだのだった。
自由に使えと言ってもらったが、きっとスーツとかを想定していたのだろう。
幸いなことにスーツは買わずに済んでいるので（兄のお下がりがまだ着れる）、ずっと気になっていた自作PCに手を出すのに使ったのだった。
少し後ろめたい気持ちがないでもなかったが、Linuxとか触るの楽しいことが分かって仕事でもこの手のものを触りたいと思えたし、面接の話のネタにもなったので結果オーライだろう。
学校とか本で学ぶOS周りの技術をそのまま試せるのが僕には嬉しかったのだろう。Windowsでは厳しいし、Macもどこか違っているので。</p></p></div><div class=post-footer><time>February 23, 2023</time>
<a class=tag href=/%20/tags/tech>#tech</a>
<a class=tag href=/%20/tags/ubuntu>#ubuntu</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-21/>2023-02-21</a></h1><div><p><p>昨日まで4日連続で人とご飯を食べた。いろんな人と話せて楽しかった。
今日は研究室に行くし、昨日はオンラインでのコミュニケーションで別のコミュニティの人と話したので、社会性週間だ。
てんやわんやしている。（追記）研究室ではお土産を持ってきてくれた人がいて、お茶した。だいぶ話し込んでしまった。</p><p>ご飯がおいしかったのは、昨日のカレー屋さんで、カレーコース？を食べさせてもらった。
行く前のイメージはカレーを何種類も食べるカレーバイキングみたいなものを想像して楽しみかつ戦々恐々という感じだったのだが、
蓋を開けるとカレーは一つだけでそこにたどり着くまでに野菜や肉を出してくれた。その後にアイスとチャイを出していただいた。
ビールやラッシーが飲み放題で、ラッシーを浴びるように飲んだ。
あんなにラッシーをたくさん飲んだのは初めて。こういう料理は食べて美味しいけど家で作る感じではないな。お店の味と言う感じがした。</p><p>昨日はご飯がおいしいのも嬉しいポイントだが、初めての人たち（それも楽しいひと）と話せたのが嬉しかった。
社会は大変だということを教えていただいた。
宿題で<a href=https://www.bettyroad.co.jp/shop/r/rbbhebi/>バーキン（バーガーキングではない、パーマンの音程）</a>をググったのでメモしておく。
値段の桁に驚いてしまった。「一生ものとして日常使いにこそ活躍できるバッグです」と紹介されている。
煽りとか皮肉とかではまったくなく、どういう日常をおくるのか気になる。
ちなみに、バーガーキングは Burger King でバーキンは Birkin なので、英語表記では少しずれる。惜しい。</p><p>昨日以外は学科同期や部活同期とご飯を食べたのだった。
餃子のタレをジントニックに入れるとおいしくない。日本酒にわさびをいれるのは美味しいらしい。</p><h2><a href=#linux%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e3%83%97%e3%83%ad%e3%82%b0%e3%83%a9%e3%83%9f%e3%83%b3%e3%82%b0%e3%82%92%e8%aa%ad%e3%82%93%e3%81%a7%e3%81%84%e3%82%8b id=linuxシステムプログラミングを読んでいる class=anchor aria-hidden=true>Linuxシステムプログラミングを読んでいる</a></h2><p><a href=https://amzn.to/3Skaiei>Linuxシステムプログラミング（アフェリエイトリンク）</a>を読み始めた。
Linuxでのファイルとプロセスについて説明されている。
これまでIO周りのバッファとかよくわかっていなかったけど、ここまでの読書でスッキリした。
こういうことはただの知識な感じがして、学校で教えられても忘れそうではあるのだけど、
必要になったときに勉強する戦略が通じるとは思えない。
必要なときに必要だと気がつくのは難しそう。こういうのを教養というのだろうか。だとしたら学校で教わって覚えておくべきなのかも知れない。</p><p>OSとプログラミング言語の間のところを勉強している感じがして楽しい。
このあたりが分かれば、手を出せる幅がだいぶ広がるんじゃないかと思っている。
システムプログラミングをゴリゴリやるのも楽しいかも知れない。
ゴリゴリやらないにしても、ソフトウェアを作るときの一つの課題の解決策としてシステムプログラミングを常に選択できるようにしたい気持ちがある。</p><p>仕事に絡めたいかは別にして、パソコンの操作性を上げたい。
キーボードの設定・設計やIME、アプリケーションの（ショートカット）キー設定とかで、飛躍的にパソコン操作が快適になるはずだ。
難関はブラウザやSlackなどのGUIアプリだろう。</p><h2><a href=#python%e3%81%ae%e3%81%8a%e3%82%82%e3%81%97%e3%82%8d%e3%81%9d%e3%81%86%e3%81%aa%e6%9c%ac%e3%82%92%e8%a6%8b%e3%81%a4%e3%81%91%e3%81%9f id=pythonのおもしろそうな本を見つけた class=anchor aria-hidden=true>Pythonのおもしろそうな本を見つけた</a></h2><p><a href=https://amzn.to/3XUBOzY>Fluent Python</a>と言う本が面白そう。
最近英語で第二版がでたようだ。</p></p></div><div class=post-footer><time>February 21, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/cock>#cock</a>
<a class=tag href=/%20/tags/book>#book</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/tips-for-tagging/>HugoでタグをつけるためのTips</a></h1><div><p><p>車輪の再発明ではあるだろうけどメモしておく。
<code>archetypes/</code>に<code>hugo new</code>で生成する<code>.md</code>ファイルのテンプレを置くことができる。
そこにありうるすべてのタグを書いておけば、記事を書くときに関係ないタグを消すことで、関連するタグを忘れずにつけることができる。</p><p>僕は以下のようにフロントマターを設定している。</p><pre><code>---
title: &quot;TODO&quot;
date: {{ .Date }}
author: &quot;Naoya Furudono&quot;
draft: true
tags: [
    &quot;daily&quot;
    ,&quot;PL&quot;
    ,&quot;tech&quot;
    ,&quot;ubuntu&quot;
    ,&quot;alexa&quot;
    ,&quot;book&quot;
    ,&quot;idea&quot;
    ,&quot;python&quot;
    ,&quot;tool&quot;
]
---
</code></pre></p></div><div class=post-footer><time>February 16, 2023</time>
<a class=tag href=/%20/tags/idea>#idea</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-16/>2023-02-16</a></h1><div><p><p><a href=https://blog.janestreet.com/the-joy-of-expect-tests/>Jane Streatのテックブログで単体テストの書き方が紹介されていた</a>。
記事ではその手法をexpect testと呼んでいて、プログラムを書いてその結果を確認してokだったら受け入れる、というものだ。
受け入れた結果はソースファイルに保存されて、その後は単体テストとして機能する。</p><p>IPythonとかで書いて、試して書き直すループを繰り返し、良さげな結果が得られたら良しとするスタイルの開発の改良版だと思える。
TDDの人が見たら気になる？のかもしれないが、記事ではTDDについても言及していた。</p><p>僕はIPythonを最近使う機会が多くて気に入ってしまっているので、expect testも良さげに思えた。
昔学校の授業で単体テストを書かされて飽き飽きしていたのを思い出した。</p><h3><a href=#%e9%96%a2%e4%bf%82%e3%81%aa%e3%81%84%e6%84%9f%e6%83%b3 id=関係ない感想 class=anchor aria-hidden=true>関係ない感想</a></h3><ul><li>Jane StreetはなんでもOCamlで作っていてすごい</li><li>動作のGIF画像がSpacemacsで動いていた<ul><li>昔Macで動かしていて、もっさりしていたのといろんな言語に手を出す時期で拡張が面倒でVSCodeに移行してしまったのだった。今はPCのスペックが上がったので戻ってもよいかもしれない。言語はまだfixできていないが（一生fixしない？）。</li></ul></li><li>この記事以外のブログポストもなかなか面白い<a href=https://blog.janestreet.com/>(link)</a>。</li></ul></p></div><div class=post-footer><time>February 16, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/fav-pl-article/>好きなPL本</a></h1><div><p><p>プログラミング言語を勉強するとイディオムとかその言語界隈でのベストプラクティスが学べて良い、
みたいなことが巷でよく言われる。確かにそれはそのとおりだとぼくも感じるのだが、
雑にチュートリアルをこなしたりするだけでは言語をよく学べないだろうと思うし、良い情報源を見つけることはそんなに簡単ではないと感じている。</p><p>僕がこれまで呼んだPL系の本でこれはと思ったものがいくつかあるので紹介する。
(注意: 好奇心でアフィリエイトを試しています。アマゾンへのリンクはアフィリエイトを有効にしています。)</p><ul><li>C言語: <a href=https://amzn.to/3E9NSqi>The C Programming Language</a></li><li>Go言語: <a href=https://amzn.to/3lBC21x>プログラミング言語Go</a></li><li>OCaml: <a href=https://amzn.to/3xIzdPf>Real World OCaml: Functional Programming for the Masses</a><ul><li><a href=https://dev.realworldocaml.org/toc.html>ここで公式が無料でHTML版</a>を公開している。</li></ul></li><li>Python: <a href=https://google.github.io/styleguide/pyguide.html>Google Python Style Guide</a><ul><li>Python以外の言語についても<a href=https://google.github.io/styleguide/>スタイルガイドがある</a></li></ul></li></ul><p>どれも勉強になる。文化の共通部分と異なる部分があって楽しい。
共通部分はプログラミング全般で大切なのだろうと思うし、異なる部分は言語の活かし方なのだろうと思う。</p><p>そういえばこういう本を読んだときと、良いPLの論文を読んだときでは感想が異なる。
PLの論文はすごいアイデアを中心として、周辺の概念がうまく回っていく様を見せつけられると感動するのだが、
この手の本はもっといろんな機能や習慣がうまく組み合わさる様を見せつけてくれる。
甲乙つくものではないだろう。</p><p>ちなみに、いま述べた類の感動を与えてくれたのはこれら2つがぱっと思いついた:</p><ul><li><a href=https://www.microsoft.com/en-us/research/publication/generalized-evidence-passing-for-effect-handlers/>Generalized Evidence Passing for Effect Handlers</a></li><li><a href=https://www.jot.fm/issues/issue_2022_02/article2.pdf>Implementation Strategies for Mutable Value Semantics (pdf)</a></li></ul><p>1つ目は背景知識がたくさんいる気がするので人にはおすすめしない。
2つめは必要な背景知識が少なめなはず。</p><p>このように整理すると、local reasoningがPL意味論で大切にしたい中心的な概念に思える。本当だろうか。</p></p></div><div class=post-footer><time>February 16, 2023</time></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-15/>2023-02-15</a></h1><div><p><p><a href=https://dev.realworldocaml.org/index.html>Real World OCaml FUNCTIONAL PROGRAMMING FOR THE MASSES</a>を読み始めた。
Practicalで面白いと伺って、目次を見たら実際そのようだったので読んでいる。
3年前にプログラミング in OCamlで入門したのが懐かしい。
Real World OCamlはOCamlらしいOCamlの書き方を教えてくれている感じがする。
まだ最初の方なのでレビュはできないが。</p><h2><a href=#%e9%96%8b%e7%99%ba%e7%92%b0%e5%a2%83%e3%83%a1%e3%83%a2 id=開発環境メモ class=anchor aria-hidden=true>開発環境メモ</a></h2><p>最近出版された本ということもあり、<a href=https://dev.realworldocaml.org/install.html>サポートページ</a>やそれぞれのツールのREADMEに従えばすんなり環境構築できた。
プラスアルファでduneを使うことにしたのだけど、その使い方が公式ドキュメントを読んでも不思議な感じで苦労したからメモしておく。</p><ul><li><code>dune init project &lt;name></code>でプロジェクトを作成</li><li><code>dune build</code>でmainをコンパイル</li><li>依存を加えたいときは、該当する<code>dune</code>ファイルの<code>libralies</code>フォームと、<code>dune-project</code>の<code>depends</code>フォームに依存ライブラリ名を追加する。
そのうえで<code>dune build</code>すると処理してopamファイルを上書きしてくれる。
<code>dune-project</code>に追記しなくてもコンパイルはできるが、opamファイルが更新されない。IDEはopamファイルを見ているようなので、linterのお世話になるために<code>dune-project</code>にも書き込む必要がある。</li></ul></p></div><div class=post-footer><time>February 15, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-12/>2023-02-12</a></h1><div><p><p>ドメインを取得して、サーバを借りた。
もちろんムームードメインとロリポップを使っている。</p><p><del>ブログのドメインを独自ドメインに変更したらhttpsが無効になってしまった。
読むときに怒るブラウザいるかも知れないのが怖いけど、お金がかかるし面倒なのでこのままにしておく。</del>
httpsを有効にした。お金はかからなかった。ロリポップが無料で引き受けてくれた。感謝。
Hugoのbase URLの設定をし忘れて、CORSとかで怒られたのでメモしておく。</p><p>サーバへのデプロイを初めて行った。クラウドサービスをずっと使っていて、サーバにファイルを上げるとかその前にビルドするみたいな作業は初めてだった。
今日は独自ドメイン記念日であり、デプロイ記念日でもある。
デプロイ記念日は微妙か。サーバで動くプログラムを走らせたりしてないし。</p><p>そういうわけで今日は独自ドメイン記念日ということにしよう。</p></p></div><div class=post-footer><time>February 12, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-10/>2023-02-10</a></h1><div><p><p>髪を切ってもらった。２ヶ月くらい切っていなかった気がする。
今回は引っ越してから初めて近所で切ってもらった。
なかなかいいかんじのお店、 店員さんに巡り会えた。嬉しい。</p><p>修論発表お疲れ会を学科同期とした。九絵でいいご飯（九絵定食なめろうつき）をたべてカラオケ、ビリヤード、ダーツをして解散。
卒業すると会う頻度が今よりぐっと減るのだろう。</p></p></div><div class=post-footer><time>February 10, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-08/>2023-02-08</a></h1><div><p><p>昨日、修論発表をした。発表する部屋が想像より大きかった。
発表の内容はなかなか未熟だったけど、あれよりいいものを作る時間があったら研究をもっと進められると思うので、
発表の準備作業に改善点はあまりないと思う。</p><p>これからも研究を改善していくのだが、方針を変えるのが良いだろう。
これまでの方法では一つのステップがいろんな概念と絡まりすぎていて理論的に難しい。
ラムダ抽象はラムダ計算ではきれいなだけで、僕たちが扱うシステムでは素直な言語機能ではないはずだ。
ラムダ抽象にはやりたいことが詰まっていて魅力的な目標だけど、今はぐっとこらえて問題を分割するのがやるべきことだと思う。</p><p>値としてのデータ構造の表現が問題になるだろう。一口にデータ構造といっても、
ヒープ領域とポインタで表現するか、TaPLのレコードのような値を扱うかでだいぶ雰囲気が変わってくる。
どちらをモデルしたいかで決めるのが良いのだろうと思う。</p><p>ここまで書いたが、僕と一緒に研究している人以外はなんのことだかわからない内容になってしまった。
目を通してくれた人には申し訳ないが、他に適切な放流場所もないのでこのままブログに流してしまおう。</p><h2><a href=#%e7%94%b2%e5%b7%9e-%e9%9f%ae%e5%b4%8e%e3%82%92%e8%b2%b7%e3%81%a3%e3%81%9f id=甲州-韮崎を買った class=anchor aria-hidden=true>甲州 韮崎を買った</a></h2><p>ウイスキーの甲州 韮崎を買った。スッキリしてる。おいしい。
ウイスキーを飲みまくる飲み会をしたいわね。
おいしいものからそうでもないものまでいろいろ飲み比べたい。</p></p></div><div class=post-footer><time>February 8, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-02-03/>2023-02-03</a></h1><div><p><p>自分のご機嫌をとるのは難しい。
睡眠やエネルギーが足りていないだけのこともあれば、
体を動かしていなくてつらいこともある。
気持ちが足りないこともあれば、気温が低いことが原因で機嫌が良くないというか、パフォーマンスがでないこともある。
他にもモニタの見すぎとか眼精疲労みたいなものが原因なこともある。</p><p>それぞれを回復する手段はある程度もっているのだが、座って作業をするなかではどれが原因なのかをなかなか判断できない。
すべてうまく回すような、余裕を持った生活をできれば良いのだが、そうも言ってられない時期はどうしてもある（今がそう）。</p><p>特効薬はおそらくなくて、余裕をできるだけ長くもてるように日頃から負荷分散に務めることが肝要なのだろう。</p></p></div><div class=post-footer><time>February 3, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-24/>2023-01-24</a></h1><div><p><p>この前みそしるを作ったのだけど火にかけたことを忘れて2,3時間放置してしまった。
水分は完全に失われ、具のもやしとは白菜が完全に炭になっていた。
幸い火事とかにはならなかったが、炭の匂いがなかなかとれない。</p><p>そこで人生初の消臭力を買って置いてみた。
またたく間に匂いは和らぎせっけんの香りが心を安らかにしてくれたのだが、
次第に残った炭の匂いと調和してタバコくさい、芳香剤の効いた車の匂いになってしまった。
なかなかうまくいかないものだ。</p></p></div><div class=post-footer><time>January 24, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-15/>2023-01-15</a></h1><div><p><p>カタログギフトで頂いたお茶が届いた。
煎茶の詰め合わせで、いい感じの缶に入っている。
300gもあるのでうまい運用を考えたいところだ。
研究室で飲むか。</p><p>メーカが紹介している<a href=https://www.harimaen.co.jp/user_data/put>お茶の入れ方</a>をメモしておく。</p></p></div><div class=post-footer><time>January 15, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-13/>2023-01-13</a></h1><div><p><p>鼻セレブを使い切ってしまった。</p><p>熱も引いてるし喉の痛みも大体おさまったのだが、鼻だけがおさまらない。
いいティッシュ買い足さないと、
週明けには擦り切れてなくなっているかも知れない。</p><p>家に引きこもっているので、一人で議論している。
なかなか楽しいし、進捗も生まれやすいように感じる。</p><p>議論は仮想的に二人で行っていて、チャット形式でおこなう。
先に喋りだしたほうがaで、もう片方がbだ。
aがアイデアを提案して、それにbがツッコミを入れることが多い。
aはツッコミから防衛したり、主張を取り下げたりする。
防衛したら、bは確かにそうだねとなるか、さらなるツッコミをいれるのが定番の流れだ。</p><p>とはいえ、aが防御でbが攻め、みたいなふうに固定するわけではなく、bが自説を振りかざすこともあるし、
aの主張を補助することもある。逆もまたしかりだ。</p><p>チャット形式にすると、途中で疲れて中断しても復帰できるのがいい。
議事録もとれているのでしばらくたってから見返すこともできるかもしれない。
とりあえず議論の結論がでたので、一息ついてから作業に取り組もうと思う。</p></p></div><div class=post-footer><time>January 13, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-12/>2023-01-12</a></h1><div><p><p>36.8</p><p>風邪は大体治ったように感じるのだが、鼻水だけが止まらない。
おかげで鼻セレブを手放せない体になってしまった。
パッケージがうさぎなので縁起物である。</p></p></div><div class=post-footer><time>January 12, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-10/>2023-01-10</a></h1><div><p><p>Value independeceという言葉を<a href=https://2023.programming-conference.org/home/vimpl-2023>VIMPL 2023</a>のcall for papers経由で知ったのだが、
それがどういう概念かを説明するドキュメントは見つからなかった。
頑張って検索すると、VIMPLの組織委員であるDave Abrahams <a href=https://twitter.com/DaveAbrahams>(twitter)</a> <a href=https://github.com/dabrahams>(GitHub)</a>のCPPCon2022での公演を見つけた:
<a href="https://www.youtube.com/watch?v=QthAU-t3PQ4">Value Semantics: Safety, Independence, Projection, & Future of Programming - Dave Abrahams CppCon 22</a>。
Valueが指すのはC++のvalue semanticsのvalueらしい。
一年くらい前にちらっとvalue semanticsを覗き見ていいなと思った気がする。ここで再会できて嬉しい。
公演はすごくよくて、value independenceが表現したい概念がなんとなくつかめた気がする。僕の理解が追いついていないのでそのうち復習しよう。
value independenceを説明するだけの公演ではなくて、示唆に富んだ内容に思えた。
彼が今度日本に来るなんて最高だ。3月13-17は空けておこう。</p><p>最近研究で値と参照のことを考えていたのでちょっと親近感を覚えたというか、
勇気やモチベーションみたいなものが湧いた。</p><p>関連リンク：</p><ul><li><a href=https://github.com/val-lang/val>Val-lang</a> : Dave Abrahamsが開発している、value independenceをいい感じに扱う言語。</li><li><a href=https://www.jot.fm/issues/issue_2022_02/article2.pdf>Valの論文？</a></li><li><a href="https://news.ycombinator.com/item?id=34216159">Valとかのbetter C++に関する議論 in HN</a></li><li><a href=https://github.com/CppCon/CppCon2022>CppCon2022のスライド集</a><ul><li>例の発表は原稿もついているので、復習するならスライドをみるだけでも良いかも。質疑応答が動画の末尾にあることに注意。</li></ul></li></ul></p></div><div class=post-footer><time>January 10, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-09/>2023-01-09</a></h1><div><p><p>念願かなって時計を壁にかけた。
今までは机の上に置いていたのだけど、
なにかの拍子に落としたり、モニタを見るときの邪魔になったりしていた。</p><p>壁にかけると邪魔じゃないし、位置が固定されるのが良い。
それに時計が見える範囲が広がったのも嬉しい。これまではベッドからは時計が見えなくて、朝起きたときは何時かわからなかった。
これからはすぐに時刻がわかる。だから何というわけではないけど。
よかったね。</p><p>体温は37.1度だった。あんまり下がりませんな。</p></p></div><div class=post-footer><time>January 9, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-08/>2023-01-08</a></h1><div><p><p>体温: 37.1</p><p>かぜが治らない。なんなら体温が少し上がっている。
熱は感じないけど、体がだるい感じがする。背中や腰が痛いというかしんどい。
部屋が少し埃っぽいので今日は掃除をする。
来月の頭までもつくらいに、がっつりきれいにしたい。</p><p>夜になった。体温はあまり変わらず36.9度だった。
だけど体は結構楽になった。
部屋をきれいに掃除してご飯をしっかり食べた。
作業も少しできたので幸せ。</p></p></div><div class=post-footer><time>January 8, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-07/>2023-01-07</a></h1><div><p><p>体温: 36.7</p><p>かぜが悪化している。
今日の昼に病院に行った。
引っ越してから初めて病院に行ったのでどこに行こうか迷ったけど、
見てもらった病院や薬局の方が良い方ばかりだったので良かった。
コロナとか肺炎とかではなさそう。
たくさんもらった薬を飲んでさっさと調子を取り戻したい。</p><p>体温計を持っていなかったので買ってきたのだが、
最初検温に10分かかるモデルを買おうとしており、
レジで店員さんが指摘してくれた。違うモデルを案内してもらって、
少し高いけど15秒で測れるモデルを買うことができた。混んでいたのに優しくしていただいて、二重でありがたい。</p><p>このあたりは物価が高いのは悪いところだが、民度も高いように感じる。
献身的というか、振る舞いの端々に人の幸せを願っている節を感じる。</p></p></div><div class=post-footer><time>January 7, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/python-generator/>Pythonのジェネレータをyieldで書く例</a></h1><div><p><p>Pythonのジェネレータ（というより<code>yield</code>）の挙動を示す例を書いた。
二分木を作る<code>gen</code>と、ノードを探索してその内容を表す文字列を返すジェネレータを返す<code>conv</code>を定義した。
<code>conv</code>がこういう風に定義できることを例で確認したかった。</p><pre><code class=language-python>from dataclasses import dataclass
import itertools
import random
from typing import Generator


@dataclass
class Tree:
    value: str


@dataclass
class Node(Tree):
    children: list[Tree]


@dataclass
class Leaf(Tree):
    pass


def gen(n):
    msg = f&quot;{random.randbytes(1)}&quot;
    if n &lt;= 0:
        return Leaf(msg)
    else:
        return Node(msg, [gen(n - 1), gen(n - 2)])


def conv(t: Tree) -&gt; Generator[str, None, None]:
    if isinstance(t, Leaf):
        yield f&quot;Leaf: {t.value}&quot;
    elif isinstance(t, Node):
        for i in itertools.chain(*map(conv, t.children)):
            yield i
        yield f&quot;Node: {t.value}&quot;


if __name__ == &quot;__main__&quot;:
    import pprint as pp

    t = gen(3)
    pp.pprint(t)
    for i in conv(t):
        print(i)
</code></pre></p></div><div class=post-footer><time>January 6, 2023</time>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-06/>2023-01-06</a></h1><div><p><p>昨日の朝からのどが痛い。
それ以外の症状はないので単に乾燥とかにやられただけだと思う。
とはいえ確証がないので学校にはとりあえず行かないようにしている。
おしゃべりと作業を学校でしたい〜。
週明けにたくさんたのしい議論ができるように（それをモチベーションにして）
研究とかの作業を進めておこう。</p></p></div><div class=post-footer><time>January 6, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-05/>2023-01-05</a></h1><div><p><p>年末に<a href=https://google.github.io/styleguide/pyguide.html>Python向けのGoogleのスタイルガイド</a>
を読んでからPythonを書くのがとても楽しい。
知らなかった言語機能やその有効な使い方とその理由をコンパクトに説明してくれる。
言語機能の使い方は補足程度で、機能そのものは知っていたりググって理解することを読者に期待していそう。
言語に入門したあと、息を吸うようにかけるようになるまでの間を埋めるのに役立ちそう。</p><p>その他の言語についても<a href=https://google.github.io/styleguide/>Googleはスタイルガイドを公開している</a>ので
折をみて目を通したい。</p><p>UbuntuでPDFを印刷するときに拡大縮小ができなくて困っていた。
<a href=http://blog.livedoor.jp/servalchan/archives/13718090.html>たまたま巡り合ったこの記事のおかげで解決した。</a></p></p></div><div class=post-footer><time>January 5, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2023-01-02/>2023-01-02</a></h1><div><p><p>名古屋の地下鉄に久しぶりに乗った。
桜通り線は電車がホーム来る前後の音楽や音がいい。
特に構内放送が始まる前の音楽がかっこいい。
ギターっぽい少し高めの音を出す弦楽器で奏でられた5秒くらいの曲が流れる。</p><p>今日は栄まで行ってきた。正月の栄という感じだったが、そもそも正月に行くところではないような気がする。来年は熱田神宮や伊勢、東京のお社に行くと楽しいだろう。
思いきりまったしたい。</p><p>帰りは散歩をしたい気分だったので、少し遠いけど歩いて帰った。
僕は走るのが好きなのだが、体を動かすというよりぶらぶらするのが好きなのかもしれない。
歩くよりも走るスピード感が好きだし、自転車とかでは交通ルールに縛られるから
何にしても走るのが好きではある。</p><p>明日から学校には歩いて行こうと思う。走って登下校は大変なので一回でやめたのだが
歩いて登下校なら特に無理もないし楽しいと思う。</p><p>今日はいとこ3世代が実家に来るので楽しみ。</p><p>P.S. 一緒に遊んだ。20こくらい離れているが昔僕が楽しいと思ったことを割と同様に楽しんでいたようだ。
子供（男の子？）はそんなものなのか、親戚だからなのか、それともたまたまだったり僕の思い過ごしだろうか。
何にしても楽しかった。</p><p>プロファイラに詳しくなりたいし、使い勝手の良いものを実装したい。
最適化をする前のターゲットや目標、成果の見積もりをするためにプロファイラが必要だ。
一口にプロファイラと言ってもその対象はいろいろあるわけでこれを使えば万事解決みたいなものはないだろう。
プログラミング言語に向き不向きがあるようにプロファイラにも向き不向きがあるはずだ。
プロファイラの使用や設計には広いCS領域についてある程度の深さの知見が必要だろう。
結構楽しめるはずだ。絶対楽しいだろうしやりがいもありそう。
手始めにPython, Java, C++あたりのプロファイラやプロファイリングテクニックを学ぶのが良いだろうか。</p></p></div><div class=post-footer><time>January 2, 2023</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-30/>2022-12-30</a></h1><div><p><h2><a href=#%e3%82%b9%e3%82%af%e3%83%aa%e3%83%97%e3%83%88%e3%82%92%e7%9c%9f%e9%9d%a2%e7%9b%ae%e3%81%ab%e6%9b%b8%e3%81%84%e3%81%9f id=スクリプトを真面目に書いた class=anchor aria-hidden=true>スクリプトを真面目に書いた</a></h2><p>昔聴いていた音楽を久しぶりに聞きたくなったのだがSpotifyで配信されていなかった。
ローカルにデータがあったのでそこからSpotifyかVLCとかで使えるようにしようと思ったのだが、
ローカルデータのファイルフォーマットが変だったりディレクトリ構成がイマイチで体験が良くない。</p><p>そこでメタデータをもとにフォルダに振り分けたりフォーマットをmp3に変換するスクリプトを書いた。
量があったので並列化したところ割といい感じになった。</p><p>せっかくなのであとで使いやすいようにCLIを調整した。
<a href=https://github.com/naoyafurudono/tools/tree/main/structure-music-files>コードをGitHubにアップロードしてある。</a>
できることや使い方はreadmeを参照すること。</p><p>ffmpegはすごいし、Pythonもすごい。</p><h2><a href=#python%e3%81%aetype-hints%e3%81%ae%e8%89%af%e8%a8%98%e4%ba%8b id=pythonのtype-hintsの良記事 class=anchor aria-hidden=true>PythonのType Hintsの良記事</a></h2><p><a href=https://engineering.mercari.com/blog/entry/20201105-0a4057b2ba/>型ヒントに関する記事で欲しい要点がまとまった記事</a>
と出会ったので共有。
Enumはしらなかった。これまではLiteralとUnionでしのいでいたのでありがたい。</p><p>最近Pythonを好きになりつつある。4月からキャディで使っていた下地と、最近学んだ人権のための機能のおかげ。</p><h2><a href=#linked-in%e3%81%ab%e7%99%bb%e9%8c%b2%e3%81%97%e3%81%a6%e3%81%bf%e3%81%9f id=linked-inに登録してみた class=anchor aria-hidden=true>Linked inに登録してみた</a></h2><p>別に職を探しているわけではなく、気になった人のプロフィールを見たかったので。
スキルをテストして、パスするとバッジとして自慢できる機能がある。
OOPで試したらパスした。やったね！
クラスベースのOOPLに関する知識を見ている感じだった。</p><p>世の中にはいろんな機能があるのだなあという感想。
自己申告でスキルを履歴書とかに書くよりも客観的な感じがして良いかもしれない。</p><h2><a href=#%e3%83%a1%e3%83%bc%e3%83%ab%e3%82%a2%e3%83%89%e3%83%ac%e3%82%b9%e3%81%ae%e5%85%ac%e9%96%8b id=メールアドレスの公開 class=anchor aria-hidden=true>メールアドレスの公開</a></h2><p>公開したいと思ってきたのだけど、スパムが嫌でずっと避けてきた。
Base64でエンコードして公開するアイデアを思いついたので試しにやってみる。
このブログの自己紹介ページに載せてみた。
この方法の問題点は面倒なことと、なれてない人には難しい点だろう。</p><p>それなりに頑張らないと収集できないだろうからスパムが来ても
どんなところがそんなに頑張ったかを知れて楽しいだろう。</p><h3><a href=#%e8%bf%bd%e8%a8%98 id=追記 class=anchor aria-hidden=true>追記</a></h3><p>風の噂でこの方法は対策してあるソフトが存在すると聞いた。
それではつまらないのでもう少し凝ったことをしてみた (<a href=https://github.com/naoyafurudono/naoyafurudono.github.io/commit/75ebe1a5ad393523c6244f3aabfeb66e5d28bb68>該当コミット</a>)。</p><p>Base64でhtmlにアドレスを書いておいて、JSで一定時間後にhtmlに書き込むアイデア。
伝えたい人にとって楽になるのが何より良いし、
クローラのタイムアウトにある程度期待できるのも良い。
無限に対策と不安点は出てきそうなのでこのくらいにしておこう。</p><p>実現のために<a href=https://gohugo.io/content-management/shortcodes/>Hugoのショートコード機能を使った</a>。
もっと楽しい使いみちがあるようなので気が向いたら導入する。</p></p></div><div class=post-footer><time>December 30, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tool>#tool</a>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/2023-todo/>2023年にやりたいこと</a></h1><div><p><p>来年の抱負じゃないけど、一息ついたタイミングでやりたいことを整理しておくとどこかのタイミングで役に立つかもしれない。</p><h2><a href=#%e4%bb%8a%e5%b9%b4%e3%81%ae%e3%81%be%e3%81%a8%e3%82%81 id=今年のまとめ class=anchor aria-hidden=true>今年のまとめ</a></h2><p>今年は人生で一番プログラミングした気がする。
3月の末にmerpayで短期のインターンに参加したのを皮切りに、
4月にキャディでのアルバイトをはじめるなど、プログラミングをする機会が増えた一年だった。
研究でもインタプリタをゴリゴリ書いてみるなどした。
最近は講義で簡単な定理証明支援系の実装に挑戦している。
変わり種としては、IBMの方々が講師として開催されているJVM関連のコンパイラ/VMの講義にも参加している。</p><p>型システムつきの言語ばかり触っていては視野が狭くなってつまらないだろうと思って
意識的にPythonやJS/TS、Racketを使ってみるようにしていた。
ライブラリをつなぎ合わせるくらいなら不便がなくてよいのだが、
ある程度込み入ってきて、一つのデータ構造を複数のコンポーネントから使うようになると
型システムが欲しくなる。
クラスや契約である程度カバーできる面はあるが、型システムにまもってもらう安心感は得られない。
抽象化をしきれないというか、しても心のどこかで実装を意識しながらデバッグしたりすることになるし、
そもそも抽象化を書きにくかったりする。</p><p>なんにしてもプログラムをゴリゴリ書く能力はついたと思う。
今年はとにかく動くものを作る系のコーディング技術を身につけた一年だった。
年の最後にPythonで言語処理系を実装するとき、クラスを使わずdictとlistだけでどこまでいけるかやってみたのだが、
型システム（依存型を含むので、いわゆるeval的な処理も必要）の実装で力尽きた。
その経験からやはり型は必要だと思い直したのであった。
dataclassを使って一日かけて書き直したらまともに実装できたので感動している。
もはやC++とかで書いた方がいい気がするが。</p><p>3月くらいまではあまり実装をする人ではなかった。実装に手を出し始めたのは最近の話。
プログラミング言語の理論（型システムとか抽象機械とか意味論とか）ばかり見ていて
論文やドキュメントを読むのが何より楽しいと思う人だった。
論文を書く中で言語の使い手の気持ちがあまりわからなくなったり、
論文を読んでいても、プログラマの幸せにつながる未来を想像できない研究をみたりした。</p><p>プログラミング言語や処理系はプログラムや表現したい対象があって初めて良し悪しが見えてくるものだと思う。
そういうプログラミング言語の研究の動機の部分をもっと知りたくて実装に手を出してみた。
結果は上々で、今の僕は去年よりもプログラミング言語やプログラミングのことが好きな自信があるし、
そういう話をして楽しい人間に近づけたと思う。丸くなってしまいはしたかもしれないが。</p><h2><a href=#2023%e5%b9%b4%e3%81%ae%e8%a9%b1 id=2023年の話 class=anchor aria-hidden=true>2023年の話</a></h2><p>インフラっぽいことを型システムやコンパイラの表現力/処理でまっとうに行いやすいようなしくみを考えて、
実現に向けた方針くらいを打ち立てたい。
インフラの勉強とRust, Scala, Haskell（適切なものを一つ）の業務で自在に使えるくらいの知識が必要だろう。</p><p>DSLやconfigでインフラ/ミドルウェアを構成するのが最近流行っているようだが、
そういうのを勉強するのはつらい。あまり長持ちする技術ではないだろうし、知識としての深みも出にくそうな印象をうける。
ライブラリとして提供してもらって他の便利機能はプログラミング言語に移譲するのがよいだろう。
適切な言語であれば、ライブラリ特有の問題を言語の機能で扱いやすくできるはずだ。
僕がやりたいのは、そのやさしく扱いやすくする部分。</p><p>その他にも全然知らない世界（技術的）をみたいし、文化的な面でも知らないところに飛び込むつもりだ。
今年はそういうことをしやすい一年だと思う。
楽しい一年になりそうだ。</p><p>まずは修士の研究をやろう。</p></p></div><div class=post-footer><time>December 29, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-28/>2022-12-28</a></h1><div><p><h2><a href=#%e5%b9%b4%e6%9c%ab%e7%b7%8f%e4%bc%9a id=年末総会 class=anchor aria-hidden=true>年末総会</a></h2><p>就職先のイベントに参加してきた。
想像以上にたくさんの方に認識していただいていた。
僕が初めて認識した方や、ネットで認識していた方、
面接などでお世話になった方から、
たくさんお話をうかがえて楽しい時間だった。
みなさん、ありがとうございました。</p><p>入社が楽しみ。
入社するまでに学校でのやり残しを作らないように気合を入れて頑張ろう。</p><h2><a href=#python%e3%81%aef-string%e5%ae%9f%e8%a3%85%e3%81%ab%e9%96%a2%e3%81%97%e3%81%a6 id=pythonのf-string実装に関して class=anchor aria-hidden=true>Pythonのf-string実装に関して</a></h2><p><a href=https://bugs.python.org/issue27078>Python bug tracker</a>に議論があった。</p><ul><li><a href=https://bugs.python.org/msg274605>f-stringをバイトコードに変換する際にはそれ用のオペコード（<code>BUILD_STRING</code>）を使うらしい。</a>。</li><li><a href=https://hg.python.org/cpython/rev/28e280915508>実装はここから見れる</a></li></ul><p><code>Py_DECREF</code>は参照カウントのオペレータか。
初めてPython VMのソースを垣間見たけどなかなか面白そう。</p></p></div><div class=post-footer><time>December 28, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-21/>2022-12-21</a></h1><div><p><p>最近ちいさな言語処理系(検証器)をPythonで実装している。
学校の講義でそういう講義があって、好きに言語を選んでよいということだった。
参加者の間で関数型言語がメジャーな感じではなかったのこともあり、怖いもの見たさでPythonを選んでみた。
ちなみに今回の実装は性能を問題にしておらず、動くことが大切。</p><p>Pythonをつかうだけでも少しドキッとするのだが、
ASTとかにクラスを使わないとどうなるかを試している。
クラスとかADTを使いたくなるときはすべて辞書かタプルでゴリ押す実装をしている。</p><p>意外となんとかなるけどしんどさはある。
結局ADTを自分で書いているだけなので、型システムという友達を失っただけかもしれない。
クラスを使うのと比べてどちらが楽かは疑問。流石にクラスが楽であって欲しい気はするけど、
expression problemに思いを馳せるとクラスよりADTの方が今回の処理系の実装に向いている気がする。</p><p>文字列処理をググりやすいのはPythonのよいところだと思う。
そもそも文字列処理を僕がPython以外でほとんどやったことがないだけかもしれないが。</p><p>今のところ、型システムがなくて絶望したことはない。（ほしいとは常に思うが）</p><h2><a href=#%e8%bf%bd%e8%a8%98 id=追記 class=anchor aria-hidden=true>追記</a></h2><p>型システムがなくて絶望した。
Dataclassを使うことにした。抽象化の機構はやはり欲しいことがわかった😇。</p></p></div><div class=post-footer><time>December 21, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/replace-with-git-grep/>git grep で検索して置換</a></h1><div><p><p><code>git grep</code>は便利なのだが、置換の機能がない。
ぐぐると<code>sed</code>と組み合わせて置換する方法がたくさんでてくる。
スクリプトファイルに書き込んだのでメモしておく。</p><ul><li>POSIX準拠の正規表現を使える。</li><li>第２引数（置換後の文字列）ではマッチグループを参照できる。（<code>"\1にマッチした"</code>のように書く）</li></ul><pre><code class=language-rep.sh>#!/bin/bash

if [ $# -ne 2 ]; then
  echo &quot;Arity mismatch. want: 2, actual: $#&quot; 1&gt;&amp;2
  exit 1
fi

git grep -lE &quot;$1&quot; | xargs sed -i -E &quot;s/$1/$2/g&quot;
</code></pre><p>個人メモ：<code>~/.local/bin</code>に置いてある。</p></p></div><div class=post-footer><time>December 18, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-18/>2022-12-18</a></h1><div><p><p>昨日は服を買いに行った。
引っ越すときに薄々気がついてはいたのだけど、
冬に着る上着が一枚も手元になくてこのままでは凍えて外出できなくなるところだった。</p><p>ずっと服を買いに行くことに抵抗があったのだが、最近薄れてきた。
そもそも大学に入るまでは基本的に自分で服を買いに行くことがなかった。
服は親が買ってきてくれたり、一緒にお店に行ってなんやかんや言いつつ選んでもらうもので自分で買いに行くという概念が未知ですこし怖かったのかもしれない。
大学生になると一人で服を買いに行く機会がでてくる。量販店にいってよくわからないという感想をもって結局なにも買わずに帰ってくることがしばしばあった。
お金の使い方がつかめていなかったことが原因だと思う。</p><p>お金に困っていると感じたわけではなくて、自然にお金を出し渋っていた。
無条件にお金をあまり払わなくて済むことが正義だという価値観があった。
なのでよさげに見える服があっても多少高いと避けてしまってなにも買えなくなっていたのだ。
話がそれるけど、高い服がいい服に見えていたということは
ずれた価値観は金銭の感覚だけで審美眼みたいなところは世間とあっていたのかもしれない。</p><p>本やご飯、パソコンやネット環境とかにお金を割いて幸せになる経験を通じてお金の使いかたを学んだ気がする。
昨日買った服はこれまでの感覚からすると高くて買わないようなものだったけど、
ここ何年か冬が寒くて悩んでいたのがある程度解決できると思うと嬉しい。
何より服自体を気に入っている。</p><p>服の話と見せかけたお金の使い方の話でした。
2年ごとかに見たら愚かな考えに見えたりするのだろうか。</p><p>ここ2、3年の間で価値観が変わってきた。もうしばらく変化は続きそうなので楽しみにしている。</p><h2><a href=#%e3%81%8a%e9%87%91%e3%82%92%e7%a8%bc%e3%81%90%e8%a9%b1 id=お金を稼ぐ話 class=anchor aria-hidden=true>お金を稼ぐ話</a></h2><p>お金を使う話を書いたので、お金を稼ぐ話も考えてみる。
当分の間は僕がお金を求める動機は先程書いたような生活水準をあげることでありつづけるだろう。
気持ちとしては水準をあげるというか、
自由を増やすことが達成したいことで、リッチな暮らしをしたいわけではないが、
もともとお金を使わないような制約を精神的にかけて暮らしていた気がするので、
自由になることとリッチな暮らしをすることは同じ向きを向いているのだろう。</p><p>なんてリッチな暮らしへの移行は一過性であるように書いたけど、そうでもないかもしれない。
基本的にお金は価値の代替で、価値をアウトソーシングして自由を求めているのだから
僕のお金を使うモチベーションはリッチな暮らしと表裏一体なのだろう、とも思える。</p><p>動機は何であれお金を使うためには稼ぐ必要がある。
必要な額がいくら位で、そのためにこう働けばいい、みたいな考え方では長続きしないだろう。
生活をどんな風に送るかを考えて、それが金銭的に破綻しないことを検証するスタイルが良いだろう。</p><p>検証する系はタイピングしながらでは辛いので、ここではやらない。
その代わりに僕の社会との関わりかたを考えることにする。</p><p>僕は技術的な/理屈っぽい話が好きで、なにかにうまい説明をつけられるととても嬉しい。
技術っぽい話は説明をつけがちで良い理屈からは頑強な技術を産めて、そこからさらに理屈をつける対象が得られるので都合が良いのだろう。
反対に抽象に抽象を重ねるのは苦手だしあまり楽しくない。</p><p>こういう営みを続けたいと思う。気合と体力と時間を持っていかれるので、これでお金をもらえると嬉しい。他に仕事をする余裕はおそらくないだろう。
その中で楽しく作業をしたり生活を送るために追加でお金をかけることになる。
まともな食事や健康が必要だし、気に入った服や道具を使いたい。友達と交流するのは楽しいし一緒に理屈をつけるのは一人でやるよりも楽しい。
そのための環境を用意するコストは、僕や友達の社会的な価値が上がるほど高くなるだろう。
同好な人が会社に集まっていて一緒にしゃべることでお金をもらえるなら、きっと環境をだれかが用意してくれていることだろう。</p><p>いろんな欲求があって、それをお金をはらって満たすのか、ひとにお金を払ってもらって満たせるような環境を手に入れるのか、そもそもお金では解決できないものなのか異なる。
お金で解決できないことはたくさんあるだろう。そのあたりは頑張ったり人を頼りにするしかない。人を頼るにしても、そのためにはまず自分が頑張らないと引き受けてもらうところまでなかなか行けない。このあたりの頑張りかたをある程度ここ2、3年で学べたと思う。これから強く生きよう。</p><p>それ以外の部分をお金で殴って解決すると幸せな空間を作れるだろうと思う。使うのと稼ぐのは対立した概念でマイナスを補うようなプラスを作るイメージではなくて、上手にバランスをとると幸せになれるパラメータの一つなのだと思う。</p><h2><a href=#%e3%81%82%e3%81%a8%e3%81%8c%e3%81%8d id=あとがき class=anchor aria-hidden=true>あとがき</a></h2><p>あたりまえの結論しかでてこなかった。いまさら主張することでもない気もするけど、まっとうな考え方は大体そんなものだろうから良かったことにしよう。
しばらく経ってから読み返すとまっとうに見えなくて、過去の自分の異常性を楽しめるかもしれない。</p></p></div><div class=post-footer><time>December 18, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-10/>2022-12-10</a></h1><div><p><h2><a href=#%e6%96%87%e6%9b%b8%e3%81%ae%e9%96%a2%e9%80%a3%e4%bb%98%e3%81%91%e3%81%a8%e5%85%ac%e9%96%8b id=文書の関連付けと公開 class=anchor aria-hidden=true>文書の関連付けと公開</a></h2><p>公開範囲を限定する機能をこのブログにつけたい。
技術的なメモを書くこともあればちょっとした考え事をメモをすることもある。
大体のことはガンガン公開すればよいと思うのだけど、
勤務中に出会った技術的なことでコンプライアンス的に公開できないものや、
人を傷つけるかもしれない考え事もたまにある。
そういうものは公開していないところに吐き出しているのだけど、
メモは一箇所にまとめたい気持ちがあるのでこの体験は良くない。
今日の考え事は今日の日記にまとめたい気持ちがある。</p><p>静的なサイトでは厳しいだろうか。
AWS Lambdaくらいなら使ってもいい気がすることにしたらいい感じに実現できるだろうか。
でもこの機能を入れるとソースコードをprivateにしないと意味がないのが悲しい。</p><p>今日の考え事は今日の日記にまとめたい気持ちがあると言ったが
トピックごとにまとめたほうが楽しいのでは？
それ系ではScrapboxがタグ機能で関連付けと表示をしてくれるのでいい線いってる気はするのだけど、
タグを打つのが面倒ですぐにやめてしまった。
皆さんどうやってタグを打っているのだろうか。
そもそも適切なタグを用意するのが難しいことだと思う。</p><p>話がそれたけど、文章の関連付けと公開の仕方が難しいという話でした。
タグは四半期に一回くらいブログを振り返って、共通性を見出すことでひねり出すのが良さそう。
ひねり出したあとにそれぞれの記事にタグを振れば良い。全体との共通性を記事を書くときに考えるのは無理な話だと思う。</p><h2><a href=#%e8%85%95%e7%ab%8b%e3%81%a6%e4%bc%8f%e3%81%9b%e3%81%8c%e3%81%a7%e3%81%8d%e3%82%8b%e3%82%88%e3%81%86%e3%81%ab%e3%81%aa%e3%81%a3%e3%81%a6%e3%81%8d%e3%81%9f id=腕立て伏せができるようになってきた class=anchor aria-hidden=true>腕立て伏せができるようになってきた</a></h2><p>少し前から腕立て伏せをやることにしている。
昔は腕立て伏せをすると折れるんじゃないかと感じるほど筋肉がなかった（骨が一部弱いのもある）のだが、
昨日今日くらいで余裕が出てきた。
これからはフォームとか効かせる部位とかを意識するのが良いだろう。</p><p>始めたきっかけはコーディング中に首の筋を痛めたことだった。
淡々とキーボード叩いてるときにびきっときた。
キー入力以外に動いていなかったので静かに驚いた記憶がある。</p><p>腕立て伏せをしても体調は良くならなくて、ランニングの代わりにはならない。
呼吸とか全身運動を体が求めているのだろうか。外の空気？
明示的な空腹と食事？インプットの中断？目をディスプレイからそむけることかも。</p><p>運動しないときは大体パソコンと向き合っているせいでランニングが与える健康そうな要因が多い。</p></p></div><div class=post-footer><time>December 10, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-07/>2022-12-07</a></h1><div><p><h2><a href=#%e6%9c%ac%e3%82%92%e8%b2%b7%e3%81%a3%e3%81%9f%e3%81%af%e3%81%aa%e3%81%97%e3%81%a8%e4%bd%99%e8%ab%87 id=本を買ったはなしと余談 class=anchor aria-hidden=true>本を買ったはなしと余談</a></h2><p>Pythonによるデータ分析入門を眺めている。
これまでpandasのDataFrameを使う機会があったのだけど、
ググった知識でごまかしたり、dictとlistを駆使してなんとかしてきた。
そろそろインデックスや配列指向を活用したい気持ちが抑えきれなくなったので本を買ってみた。</p><p>概念の理解は公式のAPIドキュメントではなくこういう本で仕入れるのがやはり楽に感じる。
まだ自在というわけにはいかないが、違和感を感じることと探すあてを思いつくことくらいはできるようになったきがする。</p><p>オライリーの読み放題プラン気になるけど高いんだよな&mldr;。
そういえばPDFの横ぐし検索はどういうソフトが良いのだろう。
むかしMacを使っていた頃はspot light検索を使っていた。Linuxではなにが良いのだろうか。</p><h2><a href=#%e7%b4%8d%e7%a8%8e%e3%81%a8%e9%96%a2%e9%80%a3%e3%81%99%e3%82%8b%e6%b3%95%e5%be%8b%e3%82%84%e6%85%a3%e7%bf%92%e3%82%92%e4%bd%93%e7%b3%bb%e7%9a%84%e3%81%ab%e5%ad%a6%e3%81%b3%e3%81%9f%e3%81%84 id=納税と関連する法律や慣習を体系的に学びたい class=anchor aria-hidden=true>納税と関連する法律や慣習を体系的に学びたい</a></h2><p>年末調整とか転出届けみたいな書類作成が苦手。
込み入った指示にたくさん従うのがつらいのだろう。
よくわからなくてコピペでプログラムを動かさざるを得ないときと同じ感覚がある。</p><p>コピペはつらいので理解した上で記述できるようになりたい。
ググってもよい記事が見当たらないのが辛い。本屋にいっても似たような本がたくさん目につく。
どう学ぶのがよいのだろうか&mldr;。</p><h2><a href=#echo%e3%81%ae%e3%81%af%e3%81%aa%e3%81%97 id=echoのはなし class=anchor aria-hidden=true>Echoのはなし</a></h2><p>EchoをPCにBluetoothペアリングしたら接続するときに
「&lt;PCの名前>に接続しました」と喋ってくれて楽しい。
最初は「何事！」と思ったけど、落ち着いて反芻すると気分がいい。</p></p></div><div class=post-footer><time>December 7, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-12-03/>2022-12-03</a></h1><div><p><p>昨日は研究が進捗した。嬉しい。</p><p>この前カルディで安いベルギービールをまとめ買いした。
甘めのビールでおいしい。
家に安くて美味しいビールがあるのは精神的にとてもよいので
これからも継続的に買いたい。Engelchenという名前。</p></p></div><div class=post-footer><time>December 3, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-11-28/>2022-11-28</a></h1><div><p><p>AmazonでEchoが安かったので買ってしまった。
特に使いみちは考えていなかったのだけど、
プログラミングの新しいエントリポイントとして楽しい。</p><p>とりあえずハローワールドはできた。
設定したフレーズでechoに話しかけると、
設定したとおりに会話できる。
プログラムが会話を通じて対話的に進行するのが新鮮だ。
なかなか便利そう。
定型的な記録をとるのには使えるだろう。</p><p>プログラムを書くときには
発話自体を処理せずに、それをライブラリが処理した結果得られるインテントで実行を分岐させる。
ビルトインのものもあるし、開発者が文字列でしていすることもできる。
文字列で指定した場合、その聞き取り方？を学習してくれるみたいだ。</p><p>ついでにLambdaにも入門してしまった。Functionsの方が使い勝手が良い？
pythonの依存ライブラリをrequirements.txtで指定できないのが悲しい。</p></p></div><div class=post-footer><time>November 28, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/tool>#tool</a>
<a class=tag href=/%20/tags/alexa>#alexa</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-11-27/>2022-11-27</a></h1><div><p><h2><a href=#%e3%83%87%e3%83%bc%e3%82%bf%e6%8c%87%e5%90%91%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%83%87%e3%82%b6%e3%82%a4%e3%83%b3%e3%81%8c%e8%89%af%e3%81%84 id=データ指向アプリケーションデザインが良い class=anchor aria-hidden=true>データ指向アプリケーションデザインが良い</a></h2><p>タイトルを見たときには、アーキテクチャ的な話が中心なのかと思っていたけど、
蓋を開けると、それを構成するための技術を基礎から説明してくれた。
たとえばデータベースの種類（関係、ドキュメント、グラフ）とその実例や特性、
インデックスのデータ構造の説明、比較など。
データベースだけの本でもないけど、そのへんはまだ読んでいないので触れない。</p><p>そういう話が終わると、分散システムを考えだす。こういう話の持っていきかたは読者として嬉しいし、文書を書くときに見習いたい。</p><h2><a href=#d2%e3%81%8c%e3%82%88%e3%81%95%e3%81%92 id=d2がよさげ class=anchor aria-hidden=true>D2がよさげ</a></h2><p>D2はテキストから図を生成するツールで、マーメイドとかが競合になるようなイメージだろう。企業がオープンソースで開発している。
設計思想が良さげ。まだやりたいことをあまりやりきれていないようなので、開発を追いかけたいし、実際に使ってみたい。修論で使えるかな。</p></p></div><div class=post-footer><time>November 27, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a>
<a class=tag href=/%20/tags/book>#book</a>
<a class=tag href=/%20/tags/tool>#tool</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/memo-concurrency-in-go/>読書メモ: Go言語による並行処理</a></h1><div><p><p>ちゃんと読もうと思ったときのための自分向けのメモ。</p><ul><li>プログラミング技法を学びたいなら3,4章</li><li>Golangの復習をしたいなら3章</li><li>Golangのランタイムを覗きたいなら6章を読むと良さそう。</li></ul><p>ざっと見た感じ、だいぶ信用して良さそうに思える。積極的に読んでいこう。</p></p></div><div class=post-footer><time>November 25, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-11-25/>2022-11-25</a></h1><div><p><h2><a href=#%e3%83%87%e3%82%a3%e3%82%b9%e3%83%97%e3%83%ac%e3%82%a4%e3%81%ae%e4%bd%8d%e7%bd%ae id=ディスプレイの位置 class=anchor aria-hidden=true>ディスプレイの位置</a></h2><p>ディスプレイの配置を変えたら首が楽になった気がする。
今まではモニターアームを使って机の天板ギリギリの高さに設置していた。
もっと低く、遠くに置きたかったのだが机に設置するモニターアームでは限界だった。</p><p>机の奥に椅子をおき、その上にモニターを置くようにした。
モニタースタンドが優秀で、良い高さと傾きを実現できている。
目線の高さには奥の窓やカーテンがある配置で、モニタは完全に目線の下になった。</p><h2><a href=#%e3%82%aa%e3%83%aa%e3%82%b8%e3%83%b3%e5%bc%81%e5%bd%93%e7%9a%84%e3%81%aa%e5%9b%9e%e9%8d%8b%e8%82%89 id=オリジン弁当的な回鍋肉 class=anchor aria-hidden=true>オリジン弁当的な回鍋肉</a></h2><p>昨日初めてオリジン弁当に行った。回鍋肉を買って食べたらおいしくて、今日は自作してみた。
オリジン弁当のレシピはわからないし、どんな味だったかも割と忘れてしまったが、
参考にしながら作った回鍋肉はおいしかった。作り方をメモしておく。</p><p>材料：</p><ul><li>豚バラ肉</li><li>キャベツ</li><li>たまねぎ</li><li>味噌</li><li>みりん</li><li>醤油</li><li>めんつゆ</li><li>油</li></ul><ol><li>味噌をみりんと水でとかしておく。</li><li>キャベツ、たまねぎ、肉の順にフライパンにいれて炒める</li><li>適切なタイミングで味噌を溶かしたやつをフライパンに入れる<ul><li>ここで入る水分で火を通すので、炒めるのは雑でok</li></ul></li><li>おいしそうになったら完成</li></ol><p>醤油とかは気分で入れる。</p><p>今日はみりんをたくさん入れたので甘めになった。
コツは肉に火を入れすぎないことと、キャベツに玉ねぎよりも火をいれることだろうか。
しっかり火が入ったキャベツは美味しい気がする。</p><p>おいしかったけど回鍋肉っぽい味ではないと思う。</p><h2><a href=#%e5%86%99%e7%9c%9f%e3%81%ae%e4%bf%9d%e5%ad%98 id=写真の保存 class=anchor aria-hidden=true>写真の保存</a></h2><p>今まで写真をまじめに保存/整理/運用してこなかった。
たまに過去の写真が欲しくなるので、良い運用を考える。</p><ul><li>手間をかけない<ul><li>手間がかかる方法では続かないので</li><li>たとえばスマホでとった写真やPCの特定ディレクトリの写真がすべて自動で保存されると良い</li></ul></li><li>頑強<ul><li>データを失いにくい</li><li>ストレージの物理的な故障やクラウドサービスの停止/制限が怖い</li></ul></li><li>アクセスしやすい<ul><li>検索しやすいと良い</li><li>日付</li><li>位置情報</li><li>拡張子</li><li>ソースになったデバイス</li><li>顔認識</li><li>タグ付け</li></ul></li></ul><p>クラウドはamazon photoが良さげだけど、そもそもクラウドはサービス内容の変化が怖いのであんまりかも。</p><p>NASをたてて、Syncthingで同期とか？検索はスクリプトを書けばある程度できる？写真なのである程度GUIが欲しい？
<a href=https://github.com/GNOME/gthumb>gThumb</a>がGUIとしては良さそう。タグもつけられるらしい。</p><p>当面はこんな運用が便利だろうか：</p><ul><li>syncthingでファイルを同期<ul><li>スマホ &ndash;> デスクトップPC</li><li>スマホからはlineの写真とカメラの保存領域をソースに指定</li><li>デスクトップPCの写真ディレクトリに送信</li></ul></li><li>外部からもらった写真はすべてデスクトップPCの写真ディレクトリに展開</li><li>amazon photoでディレクトリをバックアップ</li></ul></p></div><div class=post-footer><time>November 25, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/disable-hugo-pagenation/>Hugoでページネーションを無効化</a></h1><div><p><p><a href=https://github.com/naoyafurudono/naoyafurudono.github.io/commit/103975b47aba0b12b6b3fb5ff71caf04b591381d>このコミット</a>
でトップページのページネーションを無効化した。
やったことは以下の通り。</p><ul><li><code>.Pagenator</code>を使わないようにする</li><li>対象のポストを全件表示するようにする</li><li>ページネータを消す</li></ul><p>最初の一つが<code>page/2/</code>みたいなページ生成を抑止して、次の２つがトップページの見た目を変える。
ページネータを消せば自然に<code>.Pagenator</code>を使わないようになるはずだ。</p><h2><a href=#%e5%8f%82%e8%80%83%e3%83%89%e3%82%ad%e3%83%a5%e3%83%a1%e3%83%b3%e3%83%88 id=参考ドキュメント class=anchor aria-hidden=true>参考ドキュメント</a></h2><ul><li><a href=https://gohugo.io/templates/pagination/#configure-pagination>Hugoは<code>.Pagenator</code>の使用をみつけると、<code>page/2/</code>みたいなページを生成する</a></li></ul></p></div><div class=post-footer><time>November 24, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-11-24/>2022-11-24</a></h1><div><p><h2><a href=#%e3%83%88%e3%83%83%e3%83%97%e3%83%9a%e3%83%bc%e3%82%b8%e3%81%a7%e3%83%9a%e3%83%bc%e3%82%b8%e3%83%8d%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%82%92%e7%84%a1%e5%8a%b9%e5%8c%96%e3%81%97%e3%81%9f id=トップページでページネーションを無効化した class=anchor aria-hidden=true>トップページでページネーションを無効化した</a></h2><p>トップページでのページネーションは利益がだれにもないと判断して削除した。</p><ul><li>検索機能がこのブログにはないので一覧表示するページがあるとテキスト検索である程度探せて便利</li><li>読み込み速度は問題にならなさそう<ul><li>トップページに画像がのることはない。</li><li>記事リストは静的にトップページに埋め込まれるので、
ページングしてもhtmlのテキストの量がすこし減るだけ。</li></ul></li></ul><p>これからはすべての日記と普通の投稿がトップページにすべて掲載される。</p><p><a href=https://blog.nfurudono.com/posts/disable-hugo-pagenation/>設定が少し面倒だったので記事にしておく</a>。</p><h2><a href=#%e4%b9%85%e3%81%97%e3%81%b6%e3%82%8a%e3%81%ab%e9%95%b7%e3%82%81%e3%81%ab%e8%b5%b0%e3%81%a3%e3%81%9f id=久しぶりに長めに走った class=anchor aria-hidden=true>久しぶりに長めに走った</a></h2><p>最近短めにしか走っていなかったのだが、今日は13kmくらい走った。
心身が回復した感じがする。生活リズムもこの調子で改善したい。</p></p></div><div class=post-footer><time>November 24, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/daily/2022-11-23/>2022-11-23</a></h1><div><p><h2><a href=#%e6%97%a5%e8%a8%98%e3%81%ae%e3%83%95%e3%82%a9%e3%83%bc%e3%83%9e%e3%83%83%e3%83%88 id=日記のフォーマット class=anchor aria-hidden=true>日記のフォーマット</a></h2><p>日記を書き始めるためのシェルスクリプトを書いた。
今まではタイトルの指定が面倒だったので、日付をタイトルとして設定するようにした。</p><p>フロントマターつきのファイル作成後にエディタを勝手に起動するようにしたのも大切。
Hugoに<code>--editor</code>オプションがあって、<code>new</code>したファイルを開いてくれるとのことなのだが
環境変数の読み込みの問題を解決する必要があって諦めていた。
今は愚直にスクリプトを使っているのでとくに問題はないはず。</p><p>ところで日記ファイルのディレクトリ構成はどうするのが便利なんだろう。
今回は<code>daily/</code>以下に<code>2022-11-23.md</code>みたいなファイルを保存している。
<code>daily/2022/11/23.md</code>みたいにするのもありだろう。
年月ごとに分けるのは自然ではないと感じたので今回はすべてまとめた。</p><p>デフォルトでは<code>content/posts</code>にある記事しかトップページに表示されなかった。
今回の変更で<code>content/daily</code>以下に記事を置くようにしたので、このままでは日記がトップページに表示されない。
テーマで定義されているトップページのテンプレを見ると、
<a href=https://gohugo.io/functions/where/#mainsections>HugoのmainSections</a>変数を設定すれば良いことがわかった。
常にこの変数を編集すればよいわけではなくて、使っているテーマがこの変数を使っていい感じにトップページを定義している必要がある。
とはいえ公式で推奨されている方法なので多くのテーマがこの方法で制御できるだろう。</p><p>Goのテンプレートを勉強したい気持ちがでてきた。</p><h2><a href=#%e3%81%b2%e3%81%95%e3%81%97%e3%81%b6%e3%82%8a%e3%81%ae%e3%83%a9%e3%83%b3%e3%83%8b%e3%83%b3%e3%82%b0 id=ひさしぶりのランニング class=anchor aria-hidden=true>ひさしぶりのランニング</a></h2><p>今から久しぶりに多摩川に走りに行ってくる。
最近体調悪いので直したい。</p></p></div><div class=post-footer><time>November 23, 2022</time>
<a class=tag href=/%20/tags/daily>#daily</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/church-encoded-list-in-js/>Church Encoded List in JS</a></h1><div><p><p>Charch encodingで書いたリストの動くものがほしかったので書き下した。
<code>isnil</code>を実現するためにコンスを<code>isnil</code>、<code>car</code>、<code>cdr</code>からなるペアとして表現した。</p><pre><code class=language-javascript>// cons list in Church encoding

const tr = t =&gt; f =&gt; t;
const fl = t =&gt; f =&gt; f;
const ite = c =&gt; t =&gt; f =&gt; c(t)(f);

const pair = f =&gt; s =&gt; pi =&gt; pi(f)(s);
const fst = p =&gt; p(f=&gt;s=&gt;f);
const snd = p =&gt; p(f=&gt;s=&gt;s);

const nil = pair(tr)(0);
const cons = x =&gt; xs =&gt; pair(fl)(pair(x)(xs));
const car = l =&gt; fst(snd(l));
const cdr = l =&gt; snd(snd(l));
const isnil = l =&gt; fst(l);

const fix = f =&gt; (x =&gt; f(y =&gt; x(x)(y)))((x =&gt; f(y =&gt; x(x)(y))));

const foldr = fix(folD =&gt; f =&gt; init =&gt; l =&gt; (ite (isnil(l)) (() =&gt; init) (() =&gt; f(car(l))(folD(f)(b)(cdr(l)))) ) ());

const len = l =&gt; foldr(elm =&gt; b =&gt; 1+b)(0)(l);
const len2 = fix(leN =&gt; l =&gt; (ite(isnil(l))( () =&gt; 0)( () =&gt; 1 + leN(cdr(l)) ))() );

const lst = cons(1)(cons(2)(nil));
len(lst); // -&gt; 2
</code></pre></p></div><div class=post-footer><time>October 28, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/mozc-default-engine/>Mozc のデフォルトエンジンを設定する方法 2022 Oct</a></h1><div><p><p>設定ファイルを書き換えるとmozcのデフォルトを日本語入力にできる。
Ubuntu22.10でしか試していないことに注意。</p><pre><code>$ cat ~/.config/mozc/ibus_config.textproto
engines {
  name : &quot;mozc-jp&quot;
  longname : &quot;Mozc&quot;
  layout : &quot;default&quot;
}
active_on_launch: True
</code></pre><h2><a href=#%e7%92%b0%e5%a2%83 id=環境 class=anchor aria-hidden=true>環境</a></h2><pre><code>Distributor ID:	Ubuntu
Description:	Ubuntu 22.10
Release:	22.10
Codename:	kinetic
</code></pre><h2><a href=#%e9%95%b7%e3%81%84%e8%aa%ac%e6%98%8e id=長い説明 class=anchor aria-hidden=true>長い説明</a></h2><p>Ubuntuで日本語をmozc、ローマ字を元から入っているUSのなにかで入力している。
このやり方のありがちな課題として、mozcのデフォルトが直接入力になっていることがある。安直に対処するなら、ubuntuにログインするたびGUIでmozcの切り替えを行えばよいが、毎回操作するのは面倒だ。デフォルトで日本語モードにすれば良くて、その実現方法を冒頭に載せた。</p><p>今年追加されたデフォルトエンジンを指定するオプションを用いて日本語入力をデフォルトにしている。
環境によっては設定ファイルを置くべきディレクトリが違うとか、既存の設定とマージする必要があるみたいなことはあるかもしれない。</p><h3><a href=#%e5%8f%82%e8%80%83 id=参考 class=anchor aria-hidden=true>参考</a></h3><ul><li><a href=https://github.com/google/mozc/issues/381>この件のIssue</a><ul><li>多くの人が困っていたみたいだ。</li></ul></li><li><a href=https://github.com/google/mozc/blob/master/docs/configurations.md#activate-mozc-on-launch>設定ファイルの説明</a></li></ul></p></div><div class=post-footer><time>October 28, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/learn-apt/>aptのドキュメント整理</a></h1><div><p><p>雰囲気でaptを使っていて、リポジトリ周りの扱いに困ることがある。
この手のツールは一生使うだろうから勉強して損はないだろう。
この記事には読んだドキュメントと一言コメントを残しておく。</p><ul><li><a href=https://manpages.ubuntu.com/manpages/bionic/ja/man8/apt.8.html>apt(man)</a><ul><li>意図的に情報を絞っているとのこと。数分で読み切れる。</li><li>ざっくりと概念をつかめた気がする。</li><li>次の課題はリポジトリ</li></ul></li><li><a href=https://manpages.ubuntu.com/manpages/bionic/ja/man5/sources.list.5.html>sources.list(man)</a><ul><li>リポジトリのリスト。aptが参照/手入れする。こういう名前のファイルがあるし、似たようなディレクトリもある。それらの総称として<code>sources.list</code>と呼んでいる節がありそう。</li><li><a href=https://kujira16.hateblo.jp/entry/2019/10/14/190008>くじらにっき++</a>がやさしい</li></ul></li></ul><p>これでざっくりわかった。次にセキュリティのことを調べる。
というのも、aptが失敗するのはセキュリティ周りの設定がうまくいっていないことが原因なことが多く感じるから。</p><ul><li><a href=https://manpages.ubuntu.com/manpages/kinetic/ja/man8/apt-secure.8.html>apt-secure(man)</a><ul><li>ここで、apt-keyで鍵を登録すると書かれているが、この方法は非推奨になっている（<a href=https://manpages.ubuntu.com/manpages/kinetic/en/man8/apt-key.8.html>apt-key</a>）。<ul><li><a href=https://gihyo.jp/admin/serial/01/ubuntu-recipe/0675>gihyoに解説記事</a>がある</li><li>代替ツールはなくて、manでは直接ディレクトリに鍵ファイルを放り込むことが推奨されている。</li></ul></li></ul></li></ul><p>トラブルが起こったらこのあたりをいじればよさそうだ。
apt経由でインストールする際のおまじないの意味もわかるようになった。
確かSlackをaptでインストールした際にリポジトリや鍵を追加したはずなのだが、当時はよくわかっていなかった。</p></p></div><div class=post-footer><time>October 22, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/effect-handlers-dependency-injection/>エフェクトハンドラと依存性注入の関係について調べる （文献調査）</a></h1><div><p><p>僕はエフェクトハンドラについてそれなりに理解していると思う。
一方で依存性注入についてはふわっとしか知らない。</p><p>そんな状態ではあるけれど、
エフェクトハンドラは関数型プログラミングで依存性注入するための
素直な表現に使えるのではないかと感じている。</p><p>このポストではネットやアカデミアでどんな議論がありそうかをざっと眺める。
それらの議論の細かいところとか、考察とかは明日以降の意識がはっきりしているときに扱う。</p><h2><a href=#%e3%82%b5%e3%83%bc%e3%83%99%e3%82%a4 id=サーベイ class=anchor aria-hidden=true>サーベイ</a></h2><p>同じことを思ったひとはいるようで、検索すると<a href=https://danidiaz.medium.com/free-monads-and-effect-handlers-vs-dependency-injection-bca2eb95e580>2017年のブログ記事</a>がヒットした。
<a href="https://news.ycombinator.com/item?id=20513108">Hacker Newsのスレ</a>で <code>chowells</code>
と <code>kybernetikos</code> が同様の議論をしている。これは2019年のこと。</p><p><a href=https://www.microsoft.com/en-us/research/publication/programming-with-implicit-values-functions-and-control-or-implicit-functions-dynamic-binding-with-lexical-scoping/>Jonathan Brachthauser と Daan Leijenの論文</a>。</p><p>エフェクトハンドラの使い方を調べるなら、モナドの使い方を調べるほうが早い気はする。そう思って調べると<a href=https://qiita.com/lotz/items/a903d3b2aec0c1d4f3ce#full_moon-extensible-effects>良さげなQiitaの記事をみつけた</a>。</p><p>まだ列挙したドキュメントをあまり読めていないので、当初知りたかった関係についてはまだよくわかっていない。でも何かしら関係あることは間違いなさそうだし、僕の直感もそんなに的外れではなさそうに思える。
明日起きたら読む。</p></p></div><div class=post-footer><time>October 14, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/ta-command/>Linuxコマンドがわからない学部生について</a></h1><div><p><p>学部生や教育を非難したり愚痴を言ったりするつもりはない。</p><p>情報系の学部2年生向けのプログラミングの講義でTAをやっている。
Linuxコマンド（ <code>cd</code> とか <code>ls</code> 、 <code>git</code> など）を知らないとか、
ディレクトリやパスなどの周辺の概念を知らない学生が少なくないように感じる。</p><p>講義で教える類のものではないのだろうけど、
学生は真面目に講義を受けていればマスターできると想像して
自律的に学ばないから僕が観測したような状況が生まれたのかなと想像する。
というか、昔の僕がそうだった。</p><p>ああいう概念を身につけるためにはターミナルをたくさん使うのが推奨されがちな気がするが、
卵・ニワトリ論争というか、エアーマンが倒せない理論と同じことが起きる気がする。
なので個人的には適切な入門書を読むことを勧めたい。今回のLiniuxコマンドや周辺の概念は
<a href=https://www.sbcr.jp/product/4797380941/>新しいLinuxの教科書</a>に多くを学んだ。
学部生たちにもこれを勧めてしまって大丈夫だろうか。</p></p></div><div class=post-footer><time>October 12, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/moving/>格安の引越し業者が良かった</a></h1><div><p><p>今日引越しをした。
1年半くらい住んだ家から学校の近くへ引越した。
動機は学校がオフラインになったから。告知から実行までが短くて困った。
2週間後から週4で対面参加せよと言われて強引だなあという気持ち。
なんにせよ、この状況では学校の近くに住むのが有利なので引っ越すことにしたのだ。
新居はそれなりにいい感じで、部屋も十分広いし町もよいところに感じた。
不満は坂があることと、水回りの設備に伸びしろがあること。</p><p>新居の話はこれくらいにして、本題の引越し業者の話をしよう。
大学入学から数えて、今回の引越しは3回目か4回目なのだが業者を手配したのは初めてだった。
これまではヤマト運輸の単身パックや家財配送便？などを利用しつつ、気合や周囲の優しさで引越しをこなしてきた。たとえば洗濯機だけは業者に任せて、あとのものはリュックに入れたり現地で買うなど。
他にはトラックを借りて荷物を運んだりもした。</p><p>今回業者にお願いしたのは単にコストパフォーマンスが良さそうなことに気がついたから。
支払った金額は22,120円なので、軽トラを借りて友達にバイト代を払うとトントンになりそうだ。業者にお願いすれば僕は疲れない上に時間も短く済む。
そして結果論ではあるが業者の方は丁寧な作業をしてくれた。
ほんとにあの額で良かったのだろうかという気がしてくる。あの人たちはどれだけの報酬をもらえているのだろうか。
まとめると、金銭的には同等のコストがかかり、時間的には業者に依頼するのが有利、得られる結果も依頼するほうが良さげ。
依頼するしかないだろう。</p><h2><a href=#%e8%80%83%e5%af%9f id=考察 class=anchor aria-hidden=true>考察</a></h2><p>特に安く抑えられたことが効いている。時期と依頼先が良かったのだろう。
今回はよい行動ができたと思う。勝因は勢いとコミュニケーションだと思う。
引越しのような行動は勢いがあれば8割くらい（10割がどんなか知らないが）のクオリティを達成できる気がする。ある程度の予備調査は必要だけど、勢いを殺さない範囲の調査で十分なはず。
プラス2割を得ようとすると話が込み入ってくる印象だ。
今回行った調査は以下の要領で行った：</p><ul><li>SEO対策が効いてる系の記事で引越し業者選びの雰囲気を掴む</li><li>相見積もりサイトで業者の候補を得る （５社程度）</li><li>業者に直接問い合わせる （２社）</li></ul><p>もっとよい選択はあったと思うのだけれど、話が込み入りそうだったのでこれくらいで打ち切った。
これが8割の行動だと思っている。
お金の使い方や事務処理を学んだ気がする。学びを活かしていこう。</p></p></div><div class=post-footer><time>October 12, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/wishlist/>Wishlist</a></h1><div><p><p>欲しい / つくりたいソフトウェアのリスト。
随時更新していく。</p><ul><li>マークダウンフォーマッタ<ul><li>全角文字にうまく対応したり、Madokoのシンタックスを理解したりしてほしい。</li></ul></li></ul></p></div><div class=post-footer><time>September 30, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/syncthing/>Syncthingがよさげ</a></h1><div><p><p>オープンソースのソフトウェアで<a href=https://docs.syncthing.net/intro/getting-started.html>Syncthing</a>
というものを知った。
LAN内のデバイスとはLAN内で、インターネットの先にいるデバイスとはインターネット越しにファイルを同期できるソフトウェアだ。
予めクライアントをインストールして、ディレクトリごとに共有設定をしておくと、
設定に応じてよしなにファイルを同期してくれる。</p><p>USBのような手軽さはないが、クラウドストレージ越しにファイルのやりとりをするよりは便利そうだ。
UbuntuとAndroidにクライアントを入れてつかってみているのだけど、今の所いいかんじ。
学校のネットワークではP2P通信を禁止している。
おそらくSyncthingも引っかかるので、学校のネットワークでは動作しないように設定しておく。</p><p>設定は公式に従ってもよいし、<a href=https://virment.com/how-to-use-syncthing-for-syncing-local-files/>このブログポスト</a>も参考になる。
詳しいことは<a href=https://wiki.archlinux.jp/index.php/Syncthing>ArchWiki</a>が頼りになりそう。</p></p></div><div class=post-footer><time>September 28, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/otoshibuta/>落し蓋</a></h1><div><p><p>ひじきの煮物をつくったのだけど、あまり上手にできなかった。
その原因をさぐりたい。</p><p>まず、ひじきの量に対して他の具材を入れすぎた。ひじきが主役っぽくなくなってしまった感じ。
次に味が結構こくなってしまった。これは煮物という感覚を持たなかったことが敗因だろう。
水を入れずに醤油、みりん、めんつゆだけでなんとかしようとして濃くなったの思う。
途中で水を追加したけど、味は変わるわけではなく&mldr;。とはいえ、食感はおいしかった。</p><p>落し蓋をしなかったことも影響しているのだろうか。
落し蓋の効果はいろいろあるようだけど、水分の蒸発を防いだり煮汁の対流を促進して味を均等にする効果があるらしい。</p><p>ひじきの煮物が苦手というより、煮物を作るための基礎的な知識が不足している気がしてきた。
煮物は漸進的に調理するのが難しい気がする。
スープなら具材の火の通りやすさを加味して順序を決めれば、あとは味見をしつつ味付けすることでおいしくなる。
カレーとか味噌汁とかはこのあたりだと思う。
肉やさかなを焼くときは、下処理と焼く面に気を使えば大体満足できるものが作れる印象がある。
火が通ってなかったらそこだけ焼き直せばいいし。
サラダはいわずもがなだし。
これらに対して煮物は水分のコントロールが難しい。具材、調味料の水分をうまく扱わないといけないので。
なんというか、すべての材料のバランスを調理前に決定しておかないといけないイメージがある。</p><p>料理のさしすせそも煮物に関するtipsなのか？</p></p></div><div class=post-footer><time>September 19, 2022</time>
<a class=tag href=/%20/tags/cock>#cock</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/sakurai-youtube-channel/>「桜井政博のゲーム作るには」がおもしろい</a></h1><div><p><p><a href=https://www.youtube.com/c/sora_sakurai_jp>桜井政博のゲーム作るには</a> というYouTubeチャンネルが面白い。
ゲームの仕組みに関する知識を説明してくれる。動画のクオリティがすごいし、何より内容が面白い。</p><p>桜井さんが語っているyoutubeラジオ?があった。明日聞いてみよう。
<a href="https://www.youtube.com/watch?v=gdJZNN4aJ5U">ものをつくるときに気をつけていること／ゲームクリエイター 桜井政博さん 第１回「ユーザーの身になる」</a>
を初回として、第４回まであるようだ。一回20minちょっとくらい。</p></p></div><div class=post-footer><time>September 11, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/daily-note-watch-battery/>Daily Note: 腕時計の電池交換</a></h1><div><p><p>コロナが流行ってから外出する機会が減りそれにともない腕時計をつけることも減った。
今度腕時計が必要な用事があるのだけど、電池が切れていたので交換してもらってきた。
1320円かかって、15分ほどで対応してもらえた。
電池を買うと500-600円くらいかかるだろうし、工具代はもっとするだろう。
作業としては簡単な気がするが、この値段でやってもらえるのはありがたい話だ。
この時計の電池交換を何回することになるかはわからないが、
それ以外に使いみちのない工具をさがしたり、管理する手間を考えれば安いものである。
良い価格設定をしてくれている感じがして、あの時計屋さんを好きになってしまったかもしれない。</p></p></div><div class=post-footer><time>September 11, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/ubuntu-screenshot/>Ubuntu22でスクリーンショットの保存先を変える方法</a></h1><div><p><p>Ubuntu22でデフォルトのスクリーンショットアプリはおしゃれな見た目をしていてかっこいいのだが、保存先を変える設定が見当たらなくて困っていた。
デフォルトでは <code>~/Picture/スクリーンショット/</code> に保存されるのだが、<code>~/Desktop/</code> に保存されてほしいのだ。</p><p><a href=https://askubuntu.com/questions/1408611/changing-the-auto-save-directory-for-screen-shots-and-screen-cast-in-ubuntu-22-0>StackExchange</a>に回答があった。
回答によると、やはり残念ながらユーザによる設定はできないようで、シンボリックリンクを張る手法が提案されていた。
僕もそれに倣ったら具合が良いのでリンクをメモしておく。</p><p>別の解決方法として、<a href=https://askubuntu.com/questions/1403994/how-to-change-the-default-screenshot-folder-in-gnome-42/1428765#1428765><code>gnome-schreenshot</code> をインストールして使う方法</a>
もあるようだ。
しっかり読んでいないのだが、やることが多くて面倒にみえる。</p></p></div><div class=post-footer><time>September 11, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/todo-app/>Todo Appを作っている話</a></h1><div><p><p><strong>この記事は書きかけです。</strong></p><p>Todoアプリを作っている。就活の際に Webアプリの開発経験に関する話をするときの題材が欲しかったから。</p><p>GitHub: <a href=https://github.com/naoyafurudono/todo-app>https://github.com/naoyafurudono/todo-app</a></p><h2><a href=#%e3%83%a2%e3%83%81%e3%83%99%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3 id=モチベーション class=anchor aria-hidden=true>モチベーション</a></h2><p>Todoアプリを選んだのは、この手の目的でよく作られているイメージがあるから。FizzBazzみたいな？
見た目だけ整えてもつまらないだろうし、コマンドラインだけで完結するようなものならSQLで良い。
作るからにはなにか自分にとって得るものやソフトウェアとして売りになる点が欲しい。</p><h2><a href=#%e6%8a%80%e8%a1%93%e3%81%ae%e8%a9%b1 id=技術の話 class=anchor aria-hidden=true>技術の話</a></h2><p>細かいことはreadmeにしっかり書いている。しっかり書いたことも頑張りの一つ。ソフトウェア設計のためのツールを勉強できた。
この記事では技術を選んだ理由や学んだことを書く。</p><h3><a href=#%e3%83%95%e3%83%ad%e3%83%b3%e3%83%88 id=フロント class=anchor aria-hidden=true>フロント</a></h3><p>フロントはTypeScriptとReactを用いた。</p><h4><a href=#typescript%e3%81%ab%e9%96%a2%e3%81%97%e3%81%a6 id=typescriptに関して class=anchor aria-hidden=true>TypeScriptに関して</a></h4><p>JSではなくTSを使ったのは、僕が常々型がほしいと思っていて、仕事でも型を大事にしたプログラミングをしたいから。
TypeScriptはほとんど初めて書いた。型システム（といってよいのだろうか）にはクセがあるが、
型システムがいてくれてよかったと思う機会が何度かあった。
これが静的型付言語を用いたプログラミング体験で最良だとは思わないけど、なかなか良かった。</p><p>良かった:</p><ul><li>型としての文字列リテラル</li><li>ユニオン型</li><li>JSONとの連携</li></ul><p>enumというか、代数的データ型っぽくオブジェクトを使える。
網羅性検査やコード補完もしっかり効いて快適だった。
これはTSの特権だと思うのだが、JSONとの親和性がすごく良かった。</p><p>良くない:</p><ul><li>関数の型を書きにくい</li><li>ライブラリ関数の型が調べにくい、使いにくい</li><li>型推論の結果が欲しい型になかなかならない</li><li>any</li></ul><p>これらの辛さの原因は、僕の文化への慣れと、構造的部分型と型エイリアスを多用する方針のどちらかだろう。
関数の型が書きにくいのは慣れの問題だろう。Haskell基準で語っているので理想が高いのかもしれない。
型が調べにくいのは、なれとJS向けドキュメントによる検索汚染が原因か。
Reactみたいなライブラリの型を調べる際にはどこをみるべきなんだろうか。</p><p>型推論は型システムの方針の問題だろう。
たとえばオブジェクトを返す関数を書いたとき、
気持ちとしてはすでに定義してある型エイリアスを提案してほしいのだが、
実際にはレコード型みたいな形の型が推論結果としてフィードバックされる。
主要な型は確かにそのレコード型みたいな型だろうからその挙動は理解できるし、まっとうだと思いはする。
トップレベルの関数定義では、型アノテーションを書いてから本体を定義するのがやはり良いのだろう。
書きはじめのころ型アノテーションの書き方がわからなくて、VSCodeに書いてもらおうとしたときにこの不満が出たのだったと思う。</p><p>anyは本当に良くない。型をつけたプログラムをデバッグするときは、
強く型がついた前提で考えるので、any周りで前提が崩れて状況の認識に失敗する。
anyを書かないように頑張ることが必要だ。
デバッグの際にはanyの可能性を忘れず、JSの気持ちで考えるのが良いのだろうか？
それでは嬉しさ半減な気がするのだが。。。</p><p>不満が多くなってしまったが、TypeScriptはそれなりに好きだと思う。</p><h4><a href=#react%e3%81%ab%e9%96%a2%e3%81%97%e3%81%a6 id=reactに関して class=anchor aria-hidden=true>Reactに関して</a></h4><p>Reactの他にElmを使うとか、UIはしょぼくするとかの案があった。
判断の理由はReactの話に乗ってくれる人が多そうな気がしたから。
個人的に最近Reactのことを調べていて、しっかり書いてみたい気持ちもあった。</p><p>関数コンポーネントで書いたし、useEffectやuseReducerもしっかり使った（つもり）。
比較対処をそんなに知っているわけではないので、感想は少なめ。
<code>useEffect</code>とか<code>useReducer</code>はよくできているなと思った。うまい。</p><p>今回は複数クライアントがTodoを共有するようにした。WebSocketでサーバを通して
イベントの同期をとって、同期が取らたイベントだけを反映させている。
これはCroquetというメタバース環境の実装方針のアイデアを拝借した。
イベント同期のためのWebSocketクライアントの管理のために<code>useEffect</code>を使い、
イベント処理のために<code>useReducer</code>を用いた。</p><h3><a href=#%e3%82%b5%e3%83%bc%e3%83%90 id=サーバ class=anchor aria-hidden=true>サーバ</a></h3><p>Golangを用いた。
ゴルーチンとチャンネルの使い方や、構造体型の設計がセールスポイントだろうか。
特に凝ったことをしたわけではなく、「これくらいは書けます」とアピールできるだろうと見込んでいる。
力尽きたのであとは宿題。</p></p></div><div class=post-footer><time>August 23, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/python-filter/>Python のfilter関数が良い</a></h1><div><p><p><a href=https://docs.python.org/ja/3/library/functions.html#filter>ドキュメント</a> を読むのが早い。</p><p>こういうことができる。</p><pre><code class=language-sh>$ cat map-none.py                                                                                                                          17:34
def f(x):
    if x &lt; 0:
        return x

for i in filter(f, map(lambda a: a-10, range(100) ) ):
    print(i)

$ python3 map-none.py                                                                                                                      17:34
-10
-9
-8
-7
-6
-5
-4
-3
-2
-1
</code></pre><p>静的型つき言語では <code>f</code> が <code>maybe</code> を返すようにして、
<code>filter</code> の代わりに <a href=https://hackage.haskell.org/package/base-4.17.0.0/docs/Data-Maybe.html#v:mapMaybe><code>mapMaybe</code></a> のような関数を使うところだ。
Python のおしいところは、<code>filter</code> という名前でよぶところか。</p><pre><code class=language-python>def map_maybe(fn, lst):
  filter(fn, lst)
</code></pre><p>とすれば良い話ではあるが。</p><p>こういう機能は Python に限らないような気はする。動的で関数型に関心のある言語ならこういう仕組みにするのが <code>None</code> のような値の扱いとして自然だろう</p><p>TODO: 他の動的言語での扱いを調べる。</p><ul><li>scheme</li><li>CL</li><li>JS</li><li>ruby</li><li>julia</li></ul></p></div><div class=post-footer><time>August 19, 2022</time>
<a class=tag href=/%20/tags/python>#python</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/learn-react/>Reactのしくみを学ぶ</a></h1><div><p><p>この記事は僕の勉強メモです。資料へのポインタが主なコンテンツになるかと思います。
更新は随時入るでしょうし、煩わしいので追記した旨も基本的には記しません。</p><p>Reactの再描画に関するしくみを学ぶ。
再計算をするかしないかの判断や、
計算結果をDOMに反映するタイミング、
言語としてみたときの意味論などを理解したい。</p><p>いわゆる普通のプログラミング言語のような実行モデルではない。
どのような理解を詳しい人はしているのだろうか。
サーバサイドレンダリングとかはどのように関係するか。
Partial evaluationだと思える？とか。</p><h2><a href=#%e6%83%85%e5%a0%b1%e5%8f%8e%e9%9b%86 id=情報収集 class=anchor aria-hidden=true>情報収集</a></h2><ul><li>日本語の記事で、<a href=https://www.asobou.co.jp/blog/web/react-rendering>このブログ記事</a>
の著者がまじめにReactを使うために学んでその知見を発信している。</li><li>上の記事からリンクしているが、Reactの開発者が<a href=https://blog.isquaredsoftware.com/2020/05/blogged-answers-a-mostly-complete-guide-to-react-rendering-behavior/>（再）レンダリングについてまとめた記事</a>
を2020年の5月に公開している。
コンセプトは、「ネットに散らばったまともな説明を一箇所にまとめて理解を得られるようにする」。
体系的に説明されているし、ソースを示すリンクもたくさんはられている。良いHTMLって感じ。</li><li>上の記事で紹介されているように、Reactはアプリケーションの実行時にオブジェクトを管理するためのデータ構造として、Fiberを使っている。
それについて<a href=https://postd.cc/react-fiber-architecture/>まとめた記事の日本語訳がこちら</a>。さらにそこからReact componentなどに関する公式ブログへのリンクがはられている。</li></ul><p>学術論文は探したけど見つからなかった。
最新の情報はFacebookの人が発信する情報（ReactConとか）や公式ブログでのアナウンスに頼ることになりそう。
GitHubのIsuueとかも最新か。</p></p></div><div class=post-footer><time>August 10, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/kyukyu/>救急でのITシステムについて</a></h1><div><p><p>全然詳しくないのだけれど、救急で受け入れ先の病院が見つからない問題は改善する見込みはあるのだろうか。
きっと受け入れのプロトコルやデータの管理方法や、病院のキャパビリティに課題があるのだろう。プロトコルやデータ管理はITシステムをうまく構成して普及できればなんとかなるはずだ。そういうことを実現しようとする事業は既に存在するのだろうか。
少なくとも今はまだ成功していないのだろう。どんなところが実現に対しての障壁になっているのだろうか。</p><p>このあたりのことを含めて医療に関する情報処理はもっとよくできるのではないだろうか。コロナでの病院の手続きとか。どういう企業が事業の実現に近いのだろう。</p></p></div><div class=post-footer><time>August 1, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/pi/>円周率とユークリッド空間</a></h1><div><p><p>タイトルがこの記事の主なコンテンツなのだが、円周率はユークリッド空間に対して定まる量なのだろう、という推測と同じことを主張しているサイトの紹介をする。</p><p>その主張をしているのは<a href=https://www.shokabo.co.jp/keyword/2003_01_pi.html>こちらの裳華房のサイト</a>だ。
裳華房は大学の理系の教科書を扱う出版社。</p><h2><a href=#%e7%96%91%e5%95%8f id=疑問 class=anchor aria-hidden=true>疑問</a></h2><p>空間で円が定義できるためには、空間に距離が入っていて欲しいだろうし直径と円周の比がすべての「円」に対して一意に定まる必要がある。</p><ul><li>円の定義はなにか<ul><li>距離があれば定義できるか？裳華房の主張いわく否なのだろう。</li></ul></li><li>円周率がwell-definedであるために必要な空間の条件はなにか</li></ul><p>裳華房のページで紹介されている『<a href=https://www.shokabo.co.jp/mybooks/ISBN978-4-7853-1516-0.htm>円の数学</a>』の１章が詳しそう。</p><h2><a href=#%e7%90%83%e9%9d%a2%e3%81%a7%e3%81%ae%e5%86%86%e5%91%a8%e7%8e%87 id=球面での円周率 class=anchor aria-hidden=true>球面での「円周率」</a></h2><p><a href=https://jp.quora.com/%E6%9B%B2%E3%81%8C%E3%81%A3%E3%81%9F%E7%A9%BA%E9%96%93%E3%81%AA%E3%82%89%E5%86%86%E5%91%A8%E7%8E%87%E3%82%92%E6%95%B4%E6%95%B0%E3%81%AB%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%A7%E3%81%97%E3%82%87%E3%81%86%E3%81%8B>Quoraのポスト</a>で球面での「円周率」を議論している。
ポストを見るのが早いが、一応解釈をメモ。</p><p>球面上では円周率（円周と直径の比）は定まらない。一意性が無いことを示す。</p><p>大円の長さが$L$の<strong>球面</strong>上で直径$L/2$の円を書く。
この円は大円なので、導出される「円周率」は$2$である。</p><p>直径$L$の円は一点（中心の対蹠点）なので「円周率」は定まらないというか、$0$というかに」なる（一点の長さの定義に依存する）。
これで証明は終了。</p><p>直径を大きくすると円周は$0$と$L$の間で振動する。したがって、「円周率」は$0$に収束することがわかる。</p></p></div><div class=post-footer><time>August 1, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/local-file-transfer/>Local File Transfer</a></h1><div><p><p>近距離でのファイル交換はあまり洗練されていない印象がある。
Apple製品間ではAirdropが使えるし、Windowsにも似たような機能があったはずだ。
でも汎用的に（たとえばOSを気にせずに）使える機能は見かけない。
そういうときにはGoogle DriveやDropBoxみたいなクラウドサービスを使うか、USBメモリを使うのが一般的だろう。
Slackとかメールに頼ることもある。</p><p>インターネットに頼るのは不便だし、USBメモリが刺さらないデバイスも多い。
Blootoothを基本の通信方式として、それが使えない場合にインターネットを経由するのはいかがだろうか。</p><p>通信技術は既存手法を組み合わせるだけで良いだろう。難しいことはないだろう。
一方でアプリケーションのUIには工夫が必要なのではないだろうか。</p><ul><li>どこにファイルを保存するか</li><li>OS間でのファイルの互換性</li><li>送信先の選択</li><li>受信の制御</li></ul><p>これらの選択に一般的な回答は存在するだろうか？
他のアプリに組み込む形がよいかもしれない。
例えばローカルの会議で各自が自身のPCで文書や画像、図面などを編集するアプリがあったとして、
参加者間でのデータ共有のために今考えているものを使う。
このときUIはアプリの特性から決まるだろう。</p><p>この例に対して、スマホやPCのファイルシステムは一般的すぎて設定を決め打ちできないのではないだろうか。
そうすると、ファイル共有の実行時にユーザが設定をあたえることになる。大変不便だろう。</p><p>設定ファイルの編集やディスパッチの機能をつければ楽になるか？
ルールエンジンとかは大げさだろうか。</p></p></div><div class=post-footer><time>July 14, 2022</time>
<a class=tag href=/%20/tags/idea>#idea</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/repl-unit/>REPLと単体テスト</a></h1><div><p><p>Pythonのことを考えていて、TDDの文脈での単体テストの意義にふと気がついた。
つまり、失敗するテストを先に書いて、それを通るように実装をする、という方法論の意義に気がついた、ということだ。</p><p>PythonやHaskell、Lisp、ScalaのようなREPLがある言語で開発をするとき、
僕はテストを先に書く理由が今まであまり腑に落ちていなかった。
それはおそらく実装して、REPLでデータを渡せば動作確認できるからだ。</p><p>もちろんユニットテストを書いておいた方が再利用性とかを考えると良いだろうし、
リファクタリングの助けになるのも分かる。
ただ、コードを書き始める前にやるほどのこととは思えなくて、
プログラムに対してユニットテストを書くことは、
文章に対して推敲するような行為だと捉えていたのだ。
コードがあっていそうなことはREPLで確認するのが手軽で、
ユニットテストは重い作業というか。
この重さは面倒なだけでなく、実際に開発速度を落としていたように感じる。</p><p>さらには何がほしいか明確ではない段階で単体テストを書いて、実装してみて、なんか違ったときには
たくさん変更する箇所があって、テストケースとプログラムの修正順序が逆転することもある（このプログラムは正しいので、怒っているテストを修正する、ということ）。</p><p>単体テスト as 推敲のパラダイムは割と悪くないと思っている。
世間の皆さんはどう思っていて、実際的な方法はどんななんだろうか。</p><p>P.S. GoとかRustみたいな言語では単体テストは、もっとガンガン単体テストを書けば良いと思う。
というのもこれらの言語にはREPLいから。
単体テストを書けばmain関数に手を入れずに、比較的お手軽に小さい確認をできる。</p><p>ここまで書いて思ったのだけど、REPLで確認するレベルの動作確認をGoとかではテストで確認する必要はあるだろうか？（僕はないと思うことが多い）
型検査やlinterにかけることが気持ちとしては同等の検査？
言語が違えばプログラムの構造が質的に変わるので、細かい比較はあまり意味がないか。</p><p>結論は 「REPL ~ 静的検査」の対応がなんとなくあって、単体テストはもう少し大きめな検査？
あまりスッキリしない。この辺りの考えを胸に置いて、コーディングしていれば知見が得られるかもしれない。</p></p></div><div class=post-footer><time>July 11, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/syscall/>UNIXでのパーミッション周りでの振る舞いを調べた</a></h1><div><p><p>systemcallを初めて書いた。
パーミッションの挙動を調べるのがモチベーション。
以下を実行できてほしかったのだが、sudoにそんなファイルは無いと怒られてしまう。</p><pre><code class=language-sh>gcc hello.c
chmod 000 hello.c
sudo a.out
</code></pre><p><code>a.out</code> をexecvで読んだところ、そこでもエラーが起きた。
<code>errno</code> をみるとパーミッションが無いと怒られたようだ（execvを呼ぶバイナリをsudoで実行した）。</p><p>rootとして実行できていないのか、execvが認識するプロセスのユーザidがeidではなく、uidなのか&mldr;。</p><p>次の実験をした。<code>sudo</code> は関係ないようだ。
sudo su でrootになったあとの様子を切り取っている。</p><pre><code># ls -l
合計 44
---------- 1 root     root     16520  7月  8 18:22 callee
-rw-rw-r-- 1 furudono furudono   103  7月  7 15:43 callee.cpp
-rwxr-xr-x 1 root     root     16136  7月  8 18:25 caller
-rw-rw-r-- 1 furudono furudono   240  7月  8 18:25 caller.c
# cat caller.c 
#include&lt;errno.h&gt;
#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#include&lt;unistd.h&gt;

int main()
{
  char ** args = {NULL};
  char * cmd = &quot;./callee&quot;;
  errno = 0;
  int c = execv(cmd, args);  // my first system call
  fprintf(stderr, &quot;%s\n&quot;, strerror(errno));
  return c;
}

# ./caller 
Permission denied
# chmod 100 callee
# ./caller
hello world
# chmod 010 callee
# ./caller
hello world
# chmod 001 callee
# ./caller
hello world
</code></pre><p>カーネルかファイルシステムの都合でこうしているのだろうか。
上で登場した <code>caller.c</code> と <code>callee.c</code> は GitHub で公開している：</p><p><a href=https://github.com/naoyafurudono/test-unix-permission>https://github.com/naoyafurudono/test-unix-permission</a></p></p></div><div class=post-footer><time>July 8, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/systemd/>Systemd</a></h1><div><p><p>systemdでxremapを追加して、システム起動時に勝手にxremapが走るようにした。</p><p>僕の環境:</p><pre><code>$ lsb_release -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 22.04 LTS
Release:	22.04
Codename:	jammy
</code></pre><p>xremapの作者の方が公開している設定を参考にした。</p><p><a href=https://github.com/k0kubun/xremap/blob/6e8e1f21285ecedfa7ac88d703ad80d25a2699dd/examples/systemd/xremap.service>https://github.com/k0kubun/xremap/blob/6e8e1f21285ecedfa7ac88d703ad80d25a2699dd/examples/systemd/xremap.service</a></p><p>依存先が僕の環境では存在しないと怒られたので、<code>default.target</code> を指定した。
この設定ファイルを <code>~/.config/systemd/user</code> において、<code>systemctl --user enable xremap</code> を呼びだす。すると次回のsystemdが起動するときに、xremap を呼んでくれるようになる。</p><pre><code>[Unit]
Description=xremap

[Service]
KillMode=process
ExecStart=/home/furudono/.local/bin/xremap /home/furudono/.config/xremap/xremap.conf
ExecStop=/usr/bin/killall xremap
Restart=always
Environment=DISPLAY=:0.0

[Install]
WantedBy=default.target
</code></pre><p>快適になった。</p></p></div><div class=post-footer><time>July 8, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/spotify-at-commit/>Spotify at Commit</a></h1><div><p><p>Spotifyの再生が一瞬途切れることがある。
そしてそれがシェルコマンドを叩いたタイミングと重なる。
どんなカラクリなんだろうか。ただの気のせい？
さっきはコミットしたときに一瞬途切れた。</p></p></div><div class=post-footer><time>July 4, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/shell-commands/>Shell Commands</a></h1><div><p><p>パーミッションのことが気になって、シェルコマンドのソースコード（C言語）を読んでいるのだけど、読んでいて楽しい。
<code>rm</code> から読み始めたのだが <code>errorno</code> やコマンド引数の扱い方、トラバース (ftsを使う) の書き方で学びが得られた。
Goのエラーハンドリングの強さが分かる。</p><p>なお、パーミッションはコマンドの実装とは分離されているみたいだ。
ファイル削除は <code>unlinkat</code> システムコールが実現していて、その前後で権限取得みたいなことは行わない。</p><p>次に <code>chmod</code> を読んでからシステムコールとOSの話を見にいこう。</p><ul><li><a href=https://github.com/naoyafurudono/coreutils>読んでいるソースコード</a></li><li><a href=https://manpages.ubuntu.com/manpages/bionic/ja/man2/unlink.2.html><code>unlinkat</code></a></li></ul></p></div><div class=post-footer><time>July 4, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/procon/>競技プログラミング</a></h1><div><p><p>数ヶ月前からときどきAtCoder <a href=https://atcoder.jp/users/donofuru>(my account)</a> のコンテストに参加している。
就活とか関数型ではない言語でのプログラミングを意識して始めた。
今回のABCで灰色を脱して茶色になったので記念に記録しておく。</p><p>はじめは入出力がなによりも難しかったし、なんなら今も悩むのはそこな気がする。
次に問題文の誤読が多い。これは恥ずかしいことなので特に気をつける。慣れもあるのかもしれないが。
そしてC++で書いているのに関数型な頭で取り組んで苦戦するケースもある。
forではなくて、mapとかをゴリゴリ使いたくなるのだ。
今日もmapを使おうと思って検索したのだけど全然検索でヒットしなかった。
まあ、mapはC++で使うべきではないことは分かる。</p><p>イテレータを使うのが面倒ですこし困る。<code>begin()</code> と <code>end()</code> をいちいち書くのは嫌なものだ。Rustに移行すれば楽になるのかな。
もう少し勉強してみるか。</p><p>おかげでC++には少しなれることができた。
欲しい機能がないことがよくあるけど、ちょっと頭をひねればきれいに回避できることが多い。
訓練だと思ってC++で続けるのはありかもしれない。
Rust欲はあるので移行はあり。</p><p>色の話をしておこう。
今のパフォーマンスだと緑色の下か真ん中くらいなようだ (900-1100)。
言語と環境により慣れれば多少上がるかもしれないが、大幅な違いは生じないだろう。
なにより今のアルゴリズム力で人生を終えるのは寂しいので頑張りたい。
脳の老化が始まるまで、そんなに時間は残ってないはず。</p><p>とりあえず朝活するかな。</p></p></div><div class=post-footer><time>July 3, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/phantom-type/>Phantom Type</a></h1><div><p><p>Phantom type (幽霊型) をチラッと学んだのでメモ。
きっかけは <a href=https://dl.acm.org/doi/10.1145/3022671.2984009>Gentrification gone too far? affordable 2nd-class values for fun and (co-)effect</a> を読んでいるときに出てきたこと。</p><p>静的な型を持つ言語で使うテクニックで登場する型（パラメータ）のことをphantom typeという。</p><pre><code class=language-haskell>-- このaがphantom type
data Com a = String

type First ()
type Second ()
type Third ()

init :: String -&gt; Com First 
next :: Com First -&gt; Com Second
final :: Com Second -&gt; Com Third
</code></pre><p>init -> next -> finalの順で呼ぶことになる。それ以外の順番では型検査を通せない。線形型とかGADTとかと組み合わせるともっとリッチなことをできるだろう。
セッションタイプを似たような概念として聞いたことがある。
どのように関係があるのだろうか。</p><h3><a href=#%e8%bf%bd%e8%a8%98 id=追記 class=anchor aria-hidden=true>追記</a></h3><p><a href=https://blog.janestreet.com/howto-static-access-control-using-phantom-types/>Jane Street のテックブログでphantom typeをYaron Minskyが紹介していた</a>。
readonly/readwrite/immutableみたいなアクセス制御を実現する方法を例として紹介している。</p></p></div><div class=post-footer><time>June 29, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/blog-code/>コードブロックの表示</a></h1><div><p><p>コードブロックの表示が気に入らない。設定をいじって白地にしたい。現状では黒地。
というのは、ブログの背景が白だし、僕が普段白地になれているから。
<a href=https://jp.quora.com/burauza-ya-Web-saito-nado-no-da-ku-mo-do-ha-jissai-ni-me-ni-yasashii-no-desu-ka/answers/135572570>白地を養護する主張</a> に影響を受けた。実際目が楽になったような気がする。</p></p></div><div class=post-footer><time>June 28, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/go-learn-memory-motivation/>Golang の変数キャプチャ</a></h1><div><p><p>Golangの変数キャプチャを勉強する。</p><p>追記: 最初、変数キャプチャではなくメモリモデルを勉強しようとしていた。勉強してみて、求めている概念では無いことに気がついたのでタイトルなどを修正した。
メモリモデル自体は知れて良かった。非同期処理へのコンパイラ最適化が及ぼす影響を知れる（<a href=https://go.dev/ref/mem>公式サイト</a> におせわになった）。
変数キャプチャの説明は<a href=https://eli.thegreenplace.net/2019/go-internals-capturing-loop-variables-in-closures/>これ</a> を読む。３年前に僕と同じことを思ったひとがいたようだ。</p><h2><a href=#overview id=overview class=anchor aria-hidden=true>Overview</a></h2><p>クロージャをforループ内で生成してデータ構造や高階関数に渡すような処理を書いた。
そこで変数の扱い（メモリモデル）でエラーを出したことがことの始まり。
解決策はシンプルなのだが、イマイチしっくりこないので勉強したくなった。
クロージャの変数キャプチャは言語によりけりだし、特徴が現れるように思う。
Golangがどうなっているか知るのが楽しみ。</p><h2><a href=#%e5%8b%95%e6%a9%9f%e3%81%a8%e3%81%aa%e3%81%a3%e3%81%9f%e3%83%9f%e3%82%b9 id=動機となったミス class=anchor aria-hidden=true>動機となったミス</a></h2><p>問題のコードはこんな感じ
<a href=https://go.dev/play/p/unayMJyn_3g>(The Go Playground)</a>。</p><pre><code class=language-go>words := []string{&quot;foo&quot;, &quot;boo&quot;, &quot;bang&quot;}
arr := []func(){}

for i, elem := range words {
	arr = append(arr, func() {
		fmt.Printf(&quot;%d: %s\n&quot;, i, elem)
	})
}

for _, f := range arr {
	f()
}
</code></pre><p>結果は次の通り。</p><pre><code>2: bang
2: bang
2: bang
</code></pre><p>期待していたのはこれ。</p><pre><code>0: foo
1: boo
2: bang
</code></pre><p>こうすると期待通りの出力を得られる
<a href=https://go.dev/play/p/xO9C4G03a0k>(The Go Playground)</a>。</p><pre><code class=language-go>words := []string{&quot;foo&quot;, &quot;boo&quot;, &quot;bang&quot;}
arr := []func(){}

for i, elem := range words {
	i := i
	elem := elem
	arr = append(arr, func() {
		fmt.Printf(&quot;%d: %s\n&quot;, i, elem)
	})
}

for _, f := range arr {
	f()
}
</code></pre><h2><a href=#%e7%90%86%e8%a7%a3 id=理解 class=anchor aria-hidden=true>理解</a></h2><p>どういう理屈で振る舞いが変わったのだろうか？一般的な理屈が知りたい。
２つの要素がある。for文のスコープとクロージャの変数束縛だ。</p><h3><a href=#for-%e6%96%87%e3%81%ae%e3%82%b9%e3%82%b3%e3%83%bc%e3%83%97 id=for-文のスコープ class=anchor aria-hidden=true>for 文のスコープ</a></h3><p><a href=https://go.dev/ref/spec#For_range>言語仕様 (<code>range</code>つきfor文)</a> によると、<code>range</code> 節を伴ったfor文では、宣言した変数が使い回されるらしい。</p><blockquote><p>The iteration variables may be declared by the &ldquo;range&rdquo; clause using a form of short variable declaration (:=). In this case their types are set to the types of the respective iteration values and their scope is the block of the &ldquo;for&rdquo; statement; they are re-used in each iteration. If the iteration variables are declared outside the &ldquo;for&rdquo; statement, after execution their values will be those of the last iteration.</p></blockquote><h3><a href=#%e3%82%af%e3%83%ad%e3%83%bc%e3%82%b8%e3%83%a3%e3%81%ae%e5%a4%89%e6%95%b0%e6%9d%9f%e7%b8%9b id=クロージャの変数束縛 class=anchor aria-hidden=true>クロージャの変数束縛</a></h3><p><a href=https://go.dev/ref/spec#Function_literals>言語仕様 (関数リテラル)</a>
によると関数リテラル（クロージャ）は定義もとの変数を共有するとのこと。</p><blockquote><p>Function literals are closures: they may refer to variables defined in a surrounding function. Those variables are then shared between the surrounding function and the function literal, and they survive as long as they are accessible.</p></blockquote><h3><a href=#%e5%95%8f%e9%a1%8c%e3%81%ae%e8%aa%ac%e6%98%8e id=問題の説明 class=anchor aria-hidden=true>問題の説明</a></h3><p>最初の例では、forループで宣言された変数 <code>i</code> をすべての関数リテラルが共有した。
最初のforループが終わったあとの変数 <code>i</code> の値は最後の繰り返しでの値になる。なのですべて 2: bang` と表示した。</p><p>２つ目の例では、forループの中で、毎回変数 <code>i</code> を宣言、定義した。for文が代入する変数<code>i</code>は、for文がイテレーションで定義したものではなく、はじめに定義したものなのでそれぞれのクロージャは影響を受けない（クロージャはfor文の各繰り返しのブロックと変数を共有するが、ブロックはすぐに終了してそれぞれのクロージャだけが変数にアクセスしうるようになる）。
したがってそれぞれのクロージャは別々の値をプリントする。</p><h2><a href=#%e3%81%82%e3%81%a8%e3%81%8c%e3%81%8d id=あとがき class=anchor aria-hidden=true>あとがき</a></h2><p>すっきりした。嬉しい。</p><p>GolangのキャプチャはC++の参照キャプチャと思ってよさそうだろうか。
クロージャの側は多分良いけど、変数の生存期間が違うので類推しないのが安全か。</p><p>言語の理解が進むとその言語をもっと好きになるみたいだ。</p></p></div><div class=post-footer><time>June 28, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/js-good-parts/>JavaScript The Good Partsを読んだ</a></h1><div><p><p>読んだ。きっかけはTypeScriptの関数型言語好き向けの紹介ページで事前知識として要求されていたから。
読んでよかったと思う。しっかりJSの知れたのではないかと（その判定はまだできないが）。
とはいえまだまだ知るべきGood Partsはある気がする、
というのも<code>const</code>とか<code>let</code>が説明されていないので、情報が古いだろうと感じたから。
プロトタイプの話が載っていたり、thisの動的な意味の変化のこととか、
<code>var</code>のスコープとかを説得力をもって説明してくれたのはとてもありがたい。
そういう点で読んでよかったと思う。DOMやevent handlerなど、ブラウザ周りの話を知りたい。</p><p>JSがSchemeに近い部分があることを知られて良かったと思う（Schemeのletがあればどんなに幸せだろうと思うけど）。
JSには偏見しかなかったけど、良い言語に思えてきた。TypeScriptも知りたい。DOMとevent handlerが先だが。
UIを扱うにはJSが強い？C# with Unityもあるのか？
TSよりも関心はDOMやevent handlerにある。</p><h2><a href=#%e8%bf%bd%e8%a8%98 id=追記 class=anchor aria-hidden=true>追記</a></h2><p>JSの<code>let</code>を勉強している。情報源は<a href=https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/let>MDN</a>。
<code>var</code>が作るスコープがレキシカルスコープではないことは既に知っている。
<code>let</code>はマシだが、SchemeとかOCamlで期待するような感じにはならない。<a href=https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/let#temporal_dead_zone>MDN 一時的なデットゾーン</a>で解説されている。
MDNでも触れられているが、<code>let</code>の右側（<code>let x = &lt;ここ></code>）が常にこのletが作るスコープに所属することになる。
なので、常に束縛する変数と同じ名前は<code>let</code>の右側には出現できない（e.g., <code>let x = x.foo</code>は常にエラー）。
その他に、同じブロックに同じ変数に対する<code>let</code>を複数回使えない。シャドーイングが不便。
これらはすべて良くないとは思うが、そんなに大きな問題でも無い気はする。</p><p><code>let</code>の仕様によって、JSでブロックを使う意味が生まれた？[^fn]
<code>switch</code>でそれぞれのブランチのスコープを区切るためにブロックを使うテクニックが紹介されている。</p><p>[^fn]この疑問符は、他の用法はあったのだろうか、という意図。</p></p></div><div class=post-footer><time>June 20, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/anime/>趣味</a></h1><div><p><p>心に残った作品を列挙しておく。
順序に意図は無い。
ちなみにこの記事はお酒によったときに書いたり追記したりしている。</p><h2><a href=#%e3%82%a2%e3%83%8b%e3%83%a1 id=アニメ class=anchor aria-hidden=true>アニメ</a></h2><ul><li>91Days</li><li>パリピ孔明</li><li>true tears</li><li>天元突破グレンラガン</li><li>マクロスデルタ（見た時期の影響が大きいかも）</li><li>Banana Fish</li></ul><p>マクロスデルタは大学受験のはじめのころ、モチベーションがない時期にみた。
マクロスデルタのおかげで今の僕は自分のメンタルヘルスをある程度管理できるようになった。</p><h2><a href=#%e6%9c%ac id=本 class=anchor aria-hidden=true>本</a></h2><h3><a href=#%e6%b0%91%e4%b8%bb%e4%b8%bb%e7%be%a9%e3%82%84%e9%96%a2%e9%80%a3%e3%81%97%e3%81%9f%e3%83%91%e3%83%bc%e3%82%bd%e3%83%8a%e3%83%aa%e3%83%86%e3%82%a3%e3%81%ae%e3%82%88%e3%81%86%e3%81%aa%e3%81%93%e3%81%a8%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6 id=民主主義や関連したパーソナリティのようなことについて class=anchor aria-hidden=true>民主主義や関連したパーソナリティのようなことについて</a></h3><p>民主主義みたいな事柄が気にかかっていた時期があった。</p><ul><li>人間失格</li><li>それから</li><li>学問のすすめ</li><li>エヴァ（漫画、新劇場版の破以降）</li></ul><p>心には残っていないが、スッキリさせてくれたのが文科省の「民主主義」。戦後に出版されたやつ。</p><p>これらをもとに民主主義とかパーソナリティに思いをはせたのは、社会学について講義や本で学んだ経験が影響しているだろう。
もしかしたら仏教の縁とかキリスト教の愛みたいな考え方を聞いたことも影響しているかもしれない。
人間性をだそう思うと、個人は責任ある（あるいは、アイデンティティのある、自我のある、人格のある）主体として振る舞う必要があって、
その上で他者といい関係を築くことが今どきの社会での人のあるべきありかたである、みたいな考え方をもつようになった。</p><p>僕は昔から自我みたいなものが弱い気がしていて、そこに課題を感じつつ、一つの主体として他者と交流することに憧れたり、それに向けてもがいたりしている節がある。
とはいえエヴァのゲンドウがいっていた（気がする）ように、人と人は分かりあえないみたいな考え方をぼくももっていて、だからこの努力は一生終わることが無いものなのだろう。
完璧な理解みたいなものはなくて、腹に落ちた感覚があるだけだと思っている。</p><h3><a href=#%e9%87%8e%e5%b4%8e%e3%81%be%e3%81%a9 id=野崎まど class=anchor aria-hidden=true>野崎まど</a></h3><ul><li>know</li><li>ファンタシスタドール イブ</li><li>うさぎと縁の本（タイトル忘れた）</li></ul><p>アムリタからハマった。</p><h2><a href=#%e9%9f%b3%e6%a5%bd id=音楽 class=anchor aria-hidden=true>音楽</a></h2><p>ボカロやJPOPがすき。うたってみたもすき。
とりあえず好きなアーティスト:</p><ul><li>Ado</li><li>まふまふ</li><li>ろん</li><li>ハチ</li><li>dazbee</li><li>Vaundy</li><li>King Gnu</li></ul><p>好きな曲:</p><ul><li>まふまふの曲が何個か（タイトルは忘れた）</li><li>Snow Song Show（そらるとろん）</li><li>夢花火（まふまふ）</li><li>リストの巡礼の年のアルバムでSpotifyで最初に流れるパート</li><li>Vaundyの踊り子（MVが特に好き、かっこいい）</li><li>King Gnuのいろいろな曲</li></ul><h2><a href=#%e3%81%9d%e3%81%ae%e4%bb%96 id=その他 class=anchor aria-hidden=true>その他</a></h2><ul><li>フィンダーおじさん (Vtuber)<ul><li>トークではなくて作品</li></ul></li></ul><h2><a href=#%e3%83%a1%e3%83%a2 id=メモ class=anchor aria-hidden=true>メモ</a></h2><p>心に残ったのはこれくらい？もっとありそうなものだけど。
ハマったのは他にもあるが、あれは心地よかっただけなのかもしれない。
本は作家で好きになることが多い。思想や文体が好きなのか？</p><ul><li><p>野崎まど</p></li><li><p>村上春樹</p></li><li><p>西尾維新</p></li><li><p>森博嗣</p></li><li><p>夏目漱石は少し</p></li><li><p>アニメはきりがない。</p></li><li><p>映画やドラマはそんなに嗜まない。</p></li><li><p>音楽もそんなに。リストの巡礼の年の不安定なパート（ピアノのソロ）はすごいと感じたくらい。</p><ul><li>（追記）これは嘘。音楽は割と好き。書き加えておく。</li></ul></li><li><p>絵もあまり。大蔵美術館（だったか？倉敷の西洋絵画がある）でみた受胎告知はよかった。</p></li><li><p>建築はかっこいいとかこの辺がイカしてる、とか思うくらい</p></li><li><p>証明やプログラムは、ここでの関心とずれている？（僕の中での解像度が違うのか、立場が違う？）</p></li><li><p>人間は？</p></li></ul><h2><a href=#%e3%81%82%e3%81%a8%e3%81%8c%e3%81%8d id=あとがき class=anchor aria-hidden=true>あとがき</a></h2><p>これくらいにしておこう。
漫画やゲームがぱっと出てこなかったのが驚きであり、また腑に落ちる感じもする。
こういうことを内省するのも楽しい。
きっかけは今日見たパリピ孔明がすごく良かったから。
深夜テンションで書きました。</p><h3><a href=#%e4%bb%8a%e9%a3%b2%e3%82%93%e3%81%a7%e3%81%84%e3%82%8b%e3%81%8a%e9%85%92 id=今飲んでいるお酒 class=anchor aria-hidden=true>今飲んでいるお酒</a></h3><ul><li>2023-03-19: Big Peat</li></ul></p></div><div class=post-footer><time>June 20, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/go-log/>Golangでのlog</a></h1><div><p><p>Golangの標準ライブラリに<code>log</code>がある。いろいろ関数が提供されているが、機能はざっくりいうと「引数で与えたメッセージにタイムスタンプをつけて標準エラー出力に流す」みたいな感じ。
ログにレベルをつけようと思うとこれでは足りない。レベルというのは、<code>DEBUG</code>とか<code>ERROR</code>みたいなやつ。
書くログ関数にレベルを設定した上で、グローバル変数とかで現在のレベルを設定する。プログラムを実行すると、現在のレベルで有効なログ関数だけが発火する。</p><p>Golangでこれをやろうと思うと、サードパーティを使うか自分で定義することになる。
自分で定義するのも意外と悪くない。
実装のほとんどは標準の<code>log</code>に委譲すれば済むし使い勝手は最高。設計に注意が必要なのと、面倒なのは間違い無いのでそれが難点か。
Golangのインターフェースのおかげで使い勝手を簡単によくできる。感謝。</p></p></div><div class=post-footer><time>June 19, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/vote/>投票所のシステム</a></h1><div><p><p>選挙に行ってきた。そこで投票用紙を一枚差し出す機械を見て驚いた。
あの機械が何をやっているのかは定かではないが、おそらく正確に１枚だけ投票用紙を有権者に渡すことが責務の一つなのだろう。
そんな機械があるのはびっくり（皮肉を言いたいわけではない）。
正確に一枚の投票用紙を渡すことは法律を遵守するために必要なことだし、機械を使わずに人の手で配る場合、複数枚渡すミスは確実に起きるだろう。
なので、そこを徹底することは尤もだと思う。</p><p>では他に良い手はないだろうか。投票用紙をもらうためには、あらかじめ有権者に配布された案内票みたいなものを持っていく必要がある。
それに投票用紙の機能をつけるのはどうだろうか、と思ったけど一意性の担保が難しそう。
というのは、案内票は再発行できてほしいはず。たとえば郵送中に損なわれた場合や紛失した場合。
再発行するには過去の案内票を間違いなくdropしないと一意性が担保されない。
dropのためにidを振るとかが考えられるが、無記名投票の原則に影響する。
そういうわけで、案内票を投票用紙として使うのは難しそうだ。</p><p>ところで、最後の投票用紙を受け取るときに、案内票を回収された。これによって投票に行ったか否かがバレてしまうのが問題にならないかと思ったが、
投票所を見張っていればバレることなのでいまさらか？</p><p>電子投票ではどんな性質をどのように担保しているのだろうか？
やろうと思うとフィジカルな投票所は単に、バーチャルな投票所にアクセスできない人が集う場所になるだろう。
委員会のひとはネットワークやパソコンなどのセットアップをする係になりそう。求められる能力が少し変わって、人を集めるのが大変そうだ。
日本での実現には10年か20年くらいかかるだろうか。今の子供がそのあたりの教育を受けることを仮定したらの話だが。
とはいえ、ipadとかでもできる気がするので、そんなに難しくない？安定性が一番の懸念か？インターネットアクセスも問題になる？
とはいえそういう地域はいまでも問題になっていそうだし、電子的にしたほうが楽なイメージがある。</p><p>最後に、細かいことをたくさん書いたけど、僕はこのあたりの仕組みに興味があるのであって、現行の選挙システムのセキュリティに文句があるわけではないことを明記しておく。
紙の投票用紙も好きだし。</p></p></div><div class=post-footer><time>June 19, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/go-context/>Go Context</a></h1><div><p><p>Golangで始めてcontextを使った。リポジトリは非公開なのであしからず。</p><p>Webスクレイピングツールを作っている。
ランディングページを見て良さげなページへのリンクを集め、それらのリンクから欲しいコンテンツを収集する、というのがメインの動き。
基本的には起動したら放置するのだが、ときどきいらないページをスキップしたくなる。このスキップ機能を追加するためにcontextを使った。</p><p>当初は<code>context.WithCancel</code>で良いかと思ったが、同じ<code>ctx</code>に複数回cancelを送信したいので良くない。
結局<code>context.WithValue</code>で受信チャンネルをもたせた。
あとはキー入力を受け付けるgoroutineを立てて、良い感じに対応する送信チャンネルから<code>struct{}{}</code>を送れば良い。
(受信側はもちろんいる。もともとDOS攻撃を避けるために待つ箇所があったので、そこで<code>timer.After</code>と並行して件のチャンネルを待つことにした。)</p><p>標準入出力をいろいろな部分から使っているので操作画面がとてもきたない。
とはいえ自分で使う分にはストレスなく思ったとおりに動くので道具としては満足。</p></p></div><div class=post-footer><time>June 18, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/disable-ipv6-ubuntu/>UbuntuでIpv6を無効化する</a></h1><div><p><p>学内ネットにVPN接続してIEEEの論文を取得しようとしたが、学内からのアクセスだと認識されなかった。
IPv6を無効化するとうまくいった。</p><p>MacではGUIでIPv6をon/offできたが、UbuntuではCUIから設定した（<a href=https://www.server-memo.net/ubuntu/ubuntu_disable_ipv6.html>参考ページ</a>）。
以下を実行する。</p><pre><code class=language-sh>sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1
sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1
sudo sysctl -w net.ipv6.conf.lo.disable_ipv6=1
</code></pre><p>設定は永続的ではない。
永続的でないことは <code>sysctl</code> の manページや <a href=https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/8/html/managing_monitoring_and_updating_the_kernel/configuring-kernel-parameters-temporarily-with-sysctl_configuring-kernel-parameters-at-runtime>Red Hatのドキュメント</a> を参照すると分かる。</p><p>逆に有効化するためには、<code>...=1</code> を <code>...=0</code> にすればよいはずだ。こちらは動作確認をしていないことに注意。</p><p>僕へ: <code>~/.local/bin/disable-ipv6.sh</code> に上のスクリプトを書いた。パスが通っているので <code>sudo</code> をつけて実行せよ。</p></p></div><div class=post-footer><time>June 17, 2022</time>
<a class=tag href=/%20/tags/ubuntu>#Ubuntu</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/zoom-ubuntu/>Ubuntu22.04でZoomの画面共有がうまくいかなかった件</a></h1><div><p><p>追記: 先日画面共有しようとしたところ、うまく相手に表示されなかった。
Zoomから退出して、Ubuntuにログインし直し、ウィンドウシステムをWayalndからXに切り替えたところうまくいった。
やはりXが安定なのか。</p><p>Ubuntu22.04で画面共有しようとすると、共有候補にホワイトボードしか表示されなかった。
<a href=https://support.zoom.us/hc/en-us/articles/6634039380877>Zoomがknown issue</a>として公開していた。
詳しくはリンク先を読めばよいが、waylandとの相性の問題とのこと。そのうち修正したいと書いてある。</p><p>対応策としては以下が紹介されていた。</p><ul><li>Xorgを使う</li><li>ブラウザ版zoomを使う</li><li>OBSのようなソフトで仮想カメラにキャプチャ画面をつなげて、それをzoomで共有する</li></ul><p>僕は面倒なので、常に全画面を共有するように設定した。これはzoomアプリの画面共有設定から行える。</p></p></div><div class=post-footer><time>June 15, 2022</time>
<a class=tag href=/%20/tags/ubuntu>#Ubuntu</a></div></article><article><h1><a href=https://blog.nfurudono.com/posts/nvim-clipboard/>NeoVimでクリップボードを使う</a></h1><div><p><h2><a href=#neovim-%e3%81%a7%e3%82%af%e3%83%aa%e3%83%83%e3%83%97%e3%83%9c%e3%83%bc%e3%83%89%e3%82%92%e4%bd%bf%e3%81%86 id=neovim-でクリップボードを使う class=anchor aria-hidden=true>NeoVim でクリップボードを使う</a></h2><h2><a href=#tldr id=tldr class=anchor aria-hidden=true>TL;DR;</a></h2><p><code>init.vim</code>に<code>set clipboard+=unnamedplus</code>と追記する。</p><h2><a href=#%e9%95%b7%e3%82%81%e3%81%ae%e8%aa%ac%e6%98%8e id=長めの説明 class=anchor aria-hidden=true>長めの説明</a></h2><p>Nvim では（vi や vim も）ヤンクやペーストで、nvim が管理するバッファを記憶領域として用いる。
なのでクリップボードとは分離されていて不便なことが多い。</p><p>バッファとクリップボードをつなげれば良くて、その設定は上のコマンドで完結するようだ。
ネットの記事には裏で<code>pbcopy</code>やそれに類するものの設定が必要、みたいなことをいう記事があるが
手元の環境では上の１行を追加するだけで良かった。</p><pre><code>:version
NVIM v0.6.1
Build type: Release
LuaJIT 2.1.0-beta3
Compiled by team+vim@tracker.debian.org
</code></pre><p><a href=https://github.com/naoyafurudono/nvim-config/commit/23b1e25099abd81a096f4719c7c2d11629f725d7>該当コミット</a>：関係無い変更も同時にコミットしてる&mldr;。</p><p>複数の nvim プロセス間でクリップボードを共有できる（当然）のが地味に便利。
（普通は複数プロセス立てない？）</p></p></div><div class=post-footer><time>June 12, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/begin-rust/>Begin Rust</a></h1><div><p><p>Rustを勉強している。やはりライフタイムとか借用のあたりで苦労している。
所有権やライフタイムはわかるのだが、借用の仕組みがイマイチわからない。
特に可変な借用が同時に複数あってはならない、という規則で、同時にとは一体？という気持ちになる。
同時の概念を理解させてくれる文書に出会えていない。
これが原因で詰まった話をする。一応問題の回避はできたが、腑に落ちきっていない。</p><p>練習がてら、状態遷移系の各ノードで、与えられたCTL-formulaが成り立つかを調べるラベリングアルゴリズムを実装した。</p><p><code>labeling</code>関数内でループを回す。考慮するすべてのCTL-formulaについて、条件が合えば <code>add_label</code> 関数を呼んでノードにその論理式への参照を追加する。
ノード（<code>State</code>）につけるラベルは<code>labels: HashMap&lt;State, HashSet&lt;&amp;Formula>></code>としている。</p><p>はじめ、<code>add_label</code>は<code>labels</code>の可変参照をとるようにしていたのだが、借用チェッカに怒られてしまった。
つまり<code>add_label : (..., labels: &amp;mut HashMap&lt;...>) -> ()</code>。
<code>add_labels</code>の呼び出しが複数回あって、それぞれに参照で貸し出したのがまずいようだ。
直感では関数呼び出しが終わると参照を捨てるから安全だし、型システムもそう思ってくれる気がしていたのだが&mldr;。</p><p><code>add_label</code>に所有権を一旦渡して、変更した上で返却するようにしたら、怒られがなくなった。
つまり<code>add_label : (..., labels: HashMap&lt;...>) -> HashMap&lt;...></code>とした。呼び出し元で<code>labels</code>に再代入することで所望の追加を実現できる。</p><p>これはこれできれいだと思うけど、はじめのアイデアも悪くない気がしてしまう。きっと修行が足りないのだろう。</p></p></div><div class=post-footer><time>June 11, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/favicon/>Favicon</a></h1><div><p><p>ファビコンをつけてみた。
素材は<a href=https://jdenticon.com/#icon-nfurudono>JDENTICON</a>で生成した。
それをもとにfavicon用のファイルを<a href=https://www.favicon-generator.org/>Favicon.ico & App Icon Generator</a>で生成。</p><p>設定はコミットを見るのが確か。
<a href=https://github.com/naoyafurudono/naoyafurudono.github.io/commit/8eb6ab8952ce55832f00b3aae0264d2b9c66f227>https://github.com/naoyafurudono/naoyafurudono.github.io/commit/8eb6ab8952ce55832f00b3aae0264d2b9c66f227</a></p></p></div><div class=post-footer><time>May 30, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/2022/blog-theme/>ブログの設定を変えた</a></h1><div><p><p>このブログはGitHub Pagesで公開していて、Hugoを用いて生成している。
Hugoの設定をろくに調べずに雑に書いていたのだが、今回少しドキュメントを読んで設定をした。</p><ul><li>トップページ（記事へのリンクが並ぶページ）に記事の全文が表示されていたのが改善した。<ul><li><code>asCJKLanguage = true</code>が効いていそう</li></ul></li><li>テーマを変えた</li></ul><p>最近Ubuntuを使い始めたり、講義でプログラミングする機会が増えたりした。得たTipsを積極的に記事にしよう。</p></p></div><div class=post-footer><time>May 30, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/2022/april/neovim/>NeoVimを使い始めた</a></h1><div><p><p>Neo Vimが使っていて楽しい、という話。普段はVSCodeを使っていて、全然移行したわけでもないのだけれど、NVimは文字入力に対する反応が比較的早くて楽しい。
ところで、いつも思うのだけど、日本語って打ちにくくないだろうか。IMEがいるのが良くない（これ以上の日本語入力方式はないだろうか？手書きよりは良いのだけれど）。</p><p>英語だとタイプミスしてもとりあえず近い単語を入力できて、大体スペルチェッカの修正機能で直せる。だからテキトーにキーを叩いてからあとはおまかせでok。入力ミスのダメージが小さい。それに対して日本語では、IMEが正しく認識できるように文字列を入力しないといけない。多少のまちがいはIMEは許容してくれることもあるけど英語の時ほどではなくて、大抵は一字一句正確に入力しないといけない。もしも間違って入力すると、IMEがうけっとた範囲の入力が全て誤って変換されるので（部分的にあっていても、正確に変換させるために全消しすることが多い）、ダメージが大きい。だから日本語入力は大変だ。</p></p></div><div class=post-footer><time>April 16, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/2022/april/syntacticalz-editor/>構文エディタ実装の考え</a></h1><div><p><p>構文エディタとは、文字単位だけでなく抽象構文木単位での編集ができるエディタのこと。
一般のコードでなく、プログラムを編集することは抽象構文木のノードやエッジの編集に対応する。
ならば、そういう単位での編集をエディタが直接サポートすれば楽できるという発想（だと想像する）。</p><p>アイデアとしてはそれらしい気がする。でも流行ってるようには見えない。
なんでか？</p><ul><li>需要が少ない:
プログラムを新しく書くことは構文エディタの対象外であり、プログラムがあってそれに対する選択が主な操作である。なので構文じゃない編集機能はやはり必要で、そう考えるとそんなに欲しくない。とか？</li><li>使い勝手が悪い:
使ったことがないし、具体的な機能を知らないので想像でしかないけど、おそらく思ったようにASTのノードを選択できないのではないか？そもそも選択したい「ASTのノード」が実は存在しないケースがある。<code>(e1;e2;e3)</code>のうち、<code>e1;e2</code>と<code>e2;e3</code>のどちらかは存在しないはず。この辺りの問題は工夫すれば解決できそう。既存の実装はどのくらい工夫しているのだろうか。</li><li>普通のエディタで十分:
前の/次のセミコロンまでジャンプとか、かっこまでジャンプとかがあれば済むケースは多い。</li><li>実装が大変:
使い勝手を考えるとシンタックスハイライトとかよりは大変そう。抽象構文木をアレンジした概念が必要になりそう。</li></ul><p>実装の話は Lisp なら簡単か。かっこを上手に扱う機能が入ればあとは普通のエディタの機能でほとんど構文エディタになる。</p><p>逆にシンタックスを弄りやすくして、普通のエディタが構文エディタ的な振る舞いをできるようにするのはどうだろう？Haskellはいい線いってる？文を消す &lt;&ndash;> 行を消すの対応をほとんどの言語でしているので多かれ少なかれそういう側面がある。究極的にはどこまでいけるだろうか？
エディタの基本操作は一文字入力/削除か。Vimでできることに広げるとどうだろうか。</p><p>関連して、エディタの話の制限を忘れて、言語デザインと使い勝手を考えたい。
ソースコード &ndash;> AST &ndash;> typed-AST &ndash;> 実行結果 くらいの段階がプログラマが交流しうるプログラムの表現だろう（実行結果が入るのは理論的じゃないかもだけど、気持ちとしては入るはず。みんな実行のことを考えてプログラムを書くのだから）。</p><p>プログラムの概念は色々あるが、それらは必ず上のどこかの概念として捉えることができる。
プログラムの挙動は実行時のことだし、行数はソースコードのこと。では型は？
typed-ASTかそれよりも前のどこかだ。例えば型アノテーションついていればソースコードの時点でわかるが、付けずに型推論に任せていれば、typed-ASTにまで頭を巡らせないとわからない。</p><p>変数の参照はどうだろう。ソースコードなことが望ましい（lexical scope）けどそうじゃない困った言語もある。</p><p>いろんな概念があるが、なんにしても、早い段階でわかったほうが嬉しいことが多いだろう。
でも一方でそれをわかあるためにプログラマがコンパイラの代わりをするのは非人道的だ。
型アノテーションは大切だけど型推論を邪魔者扱いする人はいない（いないよね？）。
これ以上具体的なことは言語の意味論によるだろう。HaskellとSchemeを同じ土俵で議論するのは大変そう。</p></p></div><div class=post-footer><time>April 16, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/2022/march/intro-cs/>読書感想: 入門 コンピュータ科学</a></h1><div><p><p>本をざっくり読んだので感想をメモ。読んでよかった。</p><p>読んだ本: <a href="https://www.amazon.co.jp/%E5%85%A5%E9%96%80-%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E7%A7%91%E5%AD%A6-IT%E3%82%92%E6%94%AF%E3%81%88%E3%82%8B%E6%8A%80%E8%A1%93%E3%81%A8%E7%90%86%E8%AB%96%E3%81%AE%E5%9F%BA%E7%A4%8E%E7%9F%A5%E8%AD%98-J-Glenn-Brookshear/dp/4048930540/ref=sr_1_1?keywords=%E5%85%A5%E9%96%80%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%E7%A7%91%E5%AD%A6&amp;qid=1648263011&amp;sprefix=%E5%85%A5%E9%96%80%E3%82%B3%E3%83%B3%E3%83%94%E3%83%A5%E3%83%BC%E3%82%BF%2Caps%2C296&amp;sr=8-1">入門 コンピュータ科学</a>。</p><h2><a href=#%e6%84%9f%e6%83%b3 id=感想 class=anchor aria-hidden=true>感想</a></h2><p>おそらく情報工学科の学部で扱うであろう内容をまとめた本。プログラミングはしないけど、それ以外の座学は大体ざっくりまとまっていそう。僕は情報工学科の講義をとっていないので、真偽はわからないのだけど。
あくまで内容はざっくりしていて、専門的な内容は省かれている感じ。インターネットとはとか、データベースとは、プログラミング言語とは、みたいなことが書かれていて、それぞれの難しさを指摘するところまでを解説してくれる。技術の実装方法や難しさの解決策とかは扱わない感じ（だったはず）。CS関連で知らないことが出てきた時に、どの辺を勉強すれば良いかの手がかりとなる概観を与えてくれたんだと思う。</p><p>この本を読んで、データベースとインターネットについてざっくりとした理解を得た。手を動かしつつ、必要に応じて勉強できそうだと思う。
情報系の学部出身と言ったら、このくらいは完全に理解していて、さらに専門的なところまでいけることを社会から期待されている気がする。どのあたりの知見が僕に欠けているかを（多分）理解できたし、足りていなかったところをある程度補完できた。</p><h2><a href=#%e4%bd%99%e8%ab%871-%e5%83%95%e3%81%ae%e3%83%90%e3%83%83%e3%82%af%e3%82%b0%e3%83%a9%e3%82%a6%e3%83%b3%e3%83%89 id=余談1-僕のバックグラウンド class=anchor aria-hidden=true>余談1: 僕のバックグラウンド</a></h2><p>上の感想文を書いて、僕のバックグラウンドに疑問を抱く人がいるかもしれないと思ったので説明しておく。</p><p>僕は情報科学科（数理・計算科学系）の出身でコンピュータサイエンスを一応専攻してきた。
ただ、CSだけじゃなくて統計や数学も学科が扱う範囲に入っていて、例えば確率論の基礎（σ加法族とかから初めて中心極限定理まで）とか集合と位相（和集合演算というのは&mldr;とかから濃度、ベルンシュタインの定理、選択公理をみて、位相論では分離公理（だったっけ？）とか連続性を扱った。付録的な立ち位置だったけど、有理数全体の集合を距離空間として見たとき、それを完備化して実数を構成する様も追った。）。これらは学部2年の話で、他にも色々講義があった。その傍でCSの講義も開講されていた感じなので、ある程度カルキュラムから端折ったCSの内容があったのだろうと思う。統計や数学の人からしても、端折った箇所があったと感じてるのではないかと想像する。数学か行くべきと発言していた人もいる。そういうわけで、今回本を読んで知識を補完できてよかったと思った。</p><p>学科の選択に後悔はなくて、色々楽しそうな領域を見て、そうでもないかなと判断できた。その中で生き残った楽しい領域で今勉強しているのだから、とりあえず満足。なんならプログラムングなんてしたくないと、学部3年の終わりまで思っていたし。</p><h2><a href=#%e4%bd%99%e8%ab%872-%e5%ad%a6%e9%83%a8%e3%81%ae%e8%ac%9b%e7%be%a9%e3%81%a8%e6%95%99%e7%a7%91%e6%9b%b8%e8%ac%9b%e7%be%a9%e8%b3%87%e6%96%99%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6 id=余談2-学部の講義と教科書講義資料について class=anchor aria-hidden=true>余談2: 学部の講義と教科書/講義資料について</a></h2><p>学部の授業で講義資料を作るのやめて、こういう教科書を指定するのが学生のためだと思う。講義資料を作るのは先生の自己満足なのだろうか。先生にとっては勉強になるだろうが、学生からすると比較的完成度の低い資料を与えられて、成績のためにそれに従った勉強を強いられる。授業内容は先生の専門になるほど細かいことではなく、多くの人が知っている教養的な内容なのだから、信頼できる文献を学生に与えることが教える側の責任の取り方なんじゃないかと思う。教科書を用いて講義を進めることにどんな問題があるのだろうか。</p><p>本を読むときに、人から与えられて読むか、自分で発見して読むかによって学習のモチベーションは大きく変わる。
人から与えられた時には粗が気になるが、自分で読む時に美点に目がつく傾向がある。もちろん白黒はっきり分かれるわけではなくて、どちらかというと、くらいのふんわりとした傾向でしかないけど。その辺りを気にして良い教科書を紹介しないで、やる気のある人が自分で発見する機会をとっておくために自作の講義資料を使う、とか？</p><p>そうだとしたら、その判断は微妙に感じる。講義で一回目を通して、その時は読む気が起きなかった教科書も、後々（数ヶ月、1、2年後）に読み返すことは少なくない。その時には自分で発見して読むときと同じようなモチベーションで僕は読める。そういうわけで、良い本を知らずに過ごすリスクを減らすためにやはり先生には紹介してほしいと思う。それも、ただタイトルと概要を述べるだけではなく、実際に授業で本の中身を扱うことで内容を学生にわからせてほしい。</p><p>教訓:</p><ul><li>良い論文とか文献は積極的に紹介する。</li><li>紹介する時には、内容まである程度紹介するとよい。</li></ul><p>今回は読書感想文なので読んだ本の内容は紹介しない。ここでCS概論述べてもしょうがないし。
僕みたいな人間がこの本を読んでどういうふうに良いと思ったかをメモすることで、似た境遇の人とかの助けになれば良いな、という程度のモチベーションでした。</p></p></div><div class=post-footer><time>March 26, 2022</time></div></article><article><h1><a href=https://blog.nfurudono.com/posts/2022/march/my-first-post/>My First Post</a></h1><div><p><h2><a href=#hello-hugo-and-github-pages id=hello-hugo-and-github-pages class=anchor aria-hidden=true>Hello, Hugo and GitHub Pages</a></h2><p>このサイトはHugoとGitHub Pagesを用いて運用しています。
これらとGitHub Actionを組み合わせることで、マークダウンで記事を書いてGitHubにpushするだけで更新できるブログを構築しています。
Hugoは静的サイトジェネレータの一つで、
設定を済ませたあとは、マークダウンで記事を書くことでコマンド一発でWebページのソースを生成してくれます。
GitHub PagesはGitHubに保存したコンテンツをWebページとして配信してくれるサービスです。</p><p>この構成は僕のアイデアではなくて、いろいろな人が手順を紹介してくれています。
僕が参考にした記事を以下に紹介します。</p><ul><li><dl><dt><a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/>Hugo on GitHub</a></dt><dd>GitHub Actionを用いたHugoの運用方法を解説しているドキュメントです。記載の方法に従うことで、mainブランチにmarkdownを書き、gh-pagesブランチに配布するためのHTMLなどを自動で生成できるようになります。</dd></dl></li><li><dl><dt><a href=https://gohugo.io/getting-started/quick-start/>Quick Start Hugo</a></dt><dd>Hugoの始め方。Hugoのインストールからlocalhost経由でのサイト表示の確認までを教えてくれます。</dd></dl></li></ul></p></div><div class=post-footer><time>March 23, 2022</time></div></article></div></div><footer class=footer-mobile><div class=social-icons><a class=social-icon href=https://twitter.com/furudono2 target=_blank rel=noopener title=Twitter><svg width="28" height="28" viewBox="0 0 28 28" fill="#ababab" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><path d="M8.991284 24.971612c10.189152.0 15.761088-8.441388 15.761088-15.761088C24.752372 8.970656 24.747512 8.731868 24.736496 8.494376 25.818008 7.712564 26.758256 6.737 27.5 5.62622c-.992628.440856-2.060748.738072-3.181248.871992 1.14372-.685584 2.02176-1.770768 2.435832-3.064176-1.070496.6345-2.25558 1.095984-3.517344 1.344492-1.010772-1.076652-2.450412-1.75014-4.043412-1.75014-3.059424.0-5.540292 2.480868-5.540292 5.539104.0.434808.0487079999999995.857412.14364 1.26306C9.19346 9.599108 5.11106 7.39472 2.3792 4.04294c-.476172.818424-.750168 1.769688-.750168 2.784132.0 1.921968.97794 3.61854 2.464992 4.61106C3.185528 11.41016 2.331788 11.160464 1.585184 10.745096 1.583888 10.768208 1.583888 10.791428 1.583888 10.815728c0 2.683152 1.909764 4.922856 4.4442 5.43078C5.562932 16.373084 5.07326 16.44134 4.56782 16.44134 4.210988 16.44134 3.863876 16.406024 3.526484 16.34144c.70524 2.200824 2.750112 3.802356 5.174928 3.8475-1.896264 1.485756-4.284576 2.37114-6.879924 2.37114C1.374476 22.56008.93362 22.534592.5 22.4834c2.451708 1.571076 5.362524 2.488212 8.491284 2.488212"/></svg></a><a class=social-icon href=https://www.linkedin.com/in/naoya-furudono target=_blank rel=noopener title=LinkedIn><svg width="28" height="28" viewBox="0 0 28 28" fill="#ababab" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><path d="M2 3.654102c0-.95502059.79442509-1.73012354 1.77383592-1.73012354H24.2261641C25.2058917 1.92397846 26 2.69908141 26 3.654102V24.3462148C26 25.3015521 25.2058917 26.0760215 24.2261641 26.0760215H3.77383592C2.79442509 26.0760215 2 25.3015521 2 24.3465315V3.65378524 3.654102zM9.27526132 22.1415901V11.2356668H5.65030092V22.1415901H9.27557808 9.27526132zM7.46341463 9.74691162c1.2638581.0 2.05068103-.83750395 2.05068103-1.88406715C9.49033893 6.79252455 8.72727273 5.97846056 7.48748812 5.97846056c-1.24073487.0-2.05099778.81406399-2.05099778 1.88438391.0 1.0465632.78650618 1.88406715 2.00316756 1.88406715h.02343998H7.46341463zM11.2815965 22.1415901h3.6246436v-6.089642C14.9062401 15.7263225 14.9299968 15.4000634 15.0256573 15.1675641c.261957499999999-.6515679.8584099-1.3259423 1.8599936-1.3259423 1.3113716.0 1.836237 1 1.836237 2.4662654v5.8337029h3.6246436V15.8885017c0-3.349699-1.7880899-4.9084574-4.172949-4.9084574-1.9553373.0-2.814064 1.0928097-3.2910991 1.8371872H14.9065569v-1.581248H11.2819132C11.3291099 12.2591067 11.2815965 22.1419069 11.2815965 22.1419069V22.1415901z"/></svg></a><a class=social-icon href=https://github.com/naoyafurudono target=_blank rel=noopener title=GitHub><svg width="28" height="28" viewBox="0 0 28 28" fill="#ababab" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><path d="M13.9988029 1.32087331C6.82105037 1.32087331 1 7.14112562 1 14.3212723c0 5.7436386 3.72454649 10.6157955 8.89038951 12.3348169C10.5408085 26.7757983 10.7778323 26.374374 10.7778323 26.0296121 10.7778323 25.7215609 10.7666595 24.9035493 10.760275 23.8189856 7.14426471 24.6042767 6.38131925 22.0760223 6.38131925 22.0760223c-.59136253-1.5019491-1.44369072-1.9017772-1.44369072-1.9017772C3.75729765 19.3682044 5.02701126 19.3841656 5.02701126 19.3841656 6.33183953 19.4759425 7.01817121 20.7241085 7.01817121 20.7241085c1.15958133 1.9863716 3.04300319 1.4125664 3.78360289 1.0797753.1181129-.8395592.4540962-1.4125663.8251942-1.7373768C8.74038491 19.7385043 5.70536235 18.6228163 5.70536235 13.6413251c0-1.4189508.50676816-2.5801283 1.33834679-3.4883207C6.90963504 9.82420367 6.46351945 8.50181809 7.17139875 6.71256734c0 0 1.09094816-.34955032 3.57451115 1.33276037C11.78259 7.75642995 12.8950858 7.61277914 14.000399 7.60719272 15.1049142 7.61277914 16.2166119 7.75642995 17.2548881 8.04532771c2.4819669-1.68231069 3.571319-1.33276037 3.571319-1.33276037C21.5356825 8.50181809 21.0895669 9.82420367 20.9562909 10.1530044 21.7894656 11.0611968 22.2922435 12.2223743 22.2922435 13.6413251c0 4.9942601-3.039811 6.0931889-5.935173 6.4148071.4660671.401424200000001.8818564 1.194696.8818564 2.4077473C17.2389269 24.2012564 17.2229657 25.603448 17.2229657 26.0296121 17.2229657 26.3775663 17.4575954 26.7821827 18.116793 26.6552912 23.2786458 24.9322794 27 20.0633148 27 14.3212723 27 7.14112562 21.1789496 1.32087331 13.9988029 1.32087331"/></svg></a></div><div class=footer-mobile-links><p><a href=https://github.com/naoyafurudono/naoyafurudono.github.io target=_blank rel=noopener>Source of
this site</a></p><span class=divider-bar>|</span><p><a href=https://gohugo.io target=_blank rel=noopener>Built with Hugo</a></p><p>©2023 Naoya Furudono</p></div><script src=https://blog.nfurudono.com/js/main.min.a7205ef73b078c8daed6fe1b0826e8ba229ffabbb69d299d9446cf41f2c7d8aa.js integrity="sha256-pyBe9zsHjI2u1v4bCCbouiKf+ru2nSmdlEbPQfLH2Ko=" crossorigin=anonymous></script></footer></body></html>