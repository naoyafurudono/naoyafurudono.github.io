---
title: "2024-10-27"
date: 2024-10-27T01:20:03+09:00
author: "Naoya Furudono"
draft: false
tags:
    - daily
    - tech
    - tool
---

# 結婚式準備

友達の結婚式に今度出席するので真面目に準備してみる。普段スーツを着ないので礼服を着るのはコスプレみたいでドキドキする。

- [x] 礼服が入るか検証
- [x] シャツを買う
- [ ] ネクタイと胸につけるハンカチ買う
- [ ] 靴を手入れする
- [ ] ワックス買って練習する
- [ ] 髪をいい感じに切ってもらうための店を見つける
  - 人に聞くのがいいかな
- その他マナーを学んでおく

# SQLのユーザ管理

アプリケーションの開発・運用をしているとSQLのユーザをそれなりに作ることになる。
データベースもしかり。それらをIaCな感じで管理したいがベストプラクティスをまだ知らない。

管理したいユーザの情報は以下の通り

- ユーザ名（ホストを含む）
- Grant
- パスワード

簡単なのは、ユーザ名とパスワードだけ1Passとかで管理して、他は動いているものを見に行く方法。管理しない考え方。
実態と齟齬がないことは良いことだが、設定を見るためには管理者権限が必要だしいちいち接続するのも面倒。
また、複製が面倒なのも問題だし、設定の経緯をコメントに残したりバージョン管理したりできないので組織としてスケールしない。

Terraformで管理するのはいい線行きそう。ネックはパスワードかな。
パスワードを平文で保持しないことを達成しようと思うと途端にややこしくなりそう。
運用ではパスワードにシュッとアクセスしたいケースがあるため、他の解決策と併用するのが良いだろう。
Grantとユーザ名、変更の経緯の管理には向いていそう。

Terraformと1passを組み合わせるのが綺麗だろうと思った。
ユーザ名は不変（変更したくなったら作り直す）にしておけば、色々いい感じになるんじゃないかな。
