---
title: "半開閉区間"
date: 2024-05-29T20:57:08+09:00
author: "Naoya Furudono"
draft: false
tags:
    - "daily"
    - "tech"
---

# 参照

コンピュータで区間処理するときは半開閉区間で持つことが多い気がしている。
もはや信仰のレベルで身についているので自分一人で決めて終わりなときはそれで良いのだが、説明が必要なときに困る。そのときのために良さげな参照を集めておく。

- "Always use [closed, open) intervals"
  - <https://fhur.me/posts/always-use-closed-open-intervals>
  - 半開閉区間の説明と閉区間のつらみ、半開閉区間のよさを語っている
- "Google Cloud API設計ガイド"
  - <https://cloud.google.com/apis/design/design_patterns?hl=ja#representing_ranges>
  - 半開閉区間を使う必要があるとしている。C++とJavaがそうしてるぞと強調してるが理由は特に触れてない。
- "時間の歩き方"
  - <https://blog.osa.in.net/time-tips/>
  - 半開閉区間というか、時間（時刻の区間としている）の持ち方の話。日付の区間なら閉区間もありと主張してる。

# 余談

何というか区間は連続な集合の２端点を指定して定まる部分集合であって、その全体からなる集合族を扱おうと思うと半開閉区間にしておくと綺麗というのも関係する？

区間は全順序集合の部分集合で、それらを体系的に考えようと思うと区間の集合の性質を考えるのが良いはず。
つまり区間からなる族を考えると良さそう。

考える全順序集合が連続な集合なら、半開閉区間からなる族を考えると、任意の区間は有限個の区間の非交和として表現できる
半開では無い区間の族ではこの性質は成り立たなさそう。漏れとダブりがないように区間を分割する必要は実用的に割とあってそれをきれいにできるのは半開閉区間だけということになる。

ググってみると集合半環という概念があるみたいで、それにこの性質が効いてるぽい。[集合半環 (wikipedia)](https://ja.wikipedia.org/wiki/%E9%9B%86%E5%90%88%E5%8D%8A%E7%92%B0)をみると良さそう。

むずい。

